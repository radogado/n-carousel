!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height));const r=!!navigator.userAgent.match("Chrome"),l=navigator.userAgent.match(/Safari/)&&!r,o=e=>1*(u(e)?e.dataset.y:e.dataset.x),n=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},s=e=>"rtl"===getComputedStyle(e).direction,a=e=>{(e=e.closest(".n-carousel")).querySelector(":scope > .n-carousel__content");const t=()=>{document.webkitIsFullScreen||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",t))};document.fullscreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen():(l&&(e.nuiAncestors=(e=>{let t=[],r=n(e);for(;r&&void 0!==r.scrollLeft&&(0!==r.scrollTop||0!==r.scrollLeft);)t.push(r),r=n(r);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",t,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen())},i=e=>e.scrollLeft,c=(e,t,r)=>{e.scrollTo(s(e)?-1*Math.abs(t):t,r)},d=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:i(e),y:e.scrollTop},u=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),h=e=>e.parentNode.matches(".n-carousel--auto-height"),p=e=>{delete e.parentNode.dataset.sliding,window.requestAnimationFrame((()=>{e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&L.observe(e.parentNode),e.addEventListener("scroll",b,{passive:!0})}))},g=e=>{e.removeEventListener("scroll",b),L.unobserve(e.parentNode)},m=(e,t)=>{let r=document.querySelector(`${t}[data-for="${e.id}"]`);if(r)return r;for(let r of e.children){if(r.matches(t))return r;if(!r.matches(".n-carousel__content")&&r.querySelector(t))return r.querySelector(t)}},y=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),f=(e,t,r,l,o=!1)=>new Promise(((n,s)=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.closest(".n-carousel").matches(".n-carousel--instant"))return c(e,d(e).x+t,d(e).y+r),e.style.height=`${l}px`,void n(e);P.unobserve(e.parentNode);let a=!0;0===t&&0===r&&(a=!1),l?e.style.height=`${o}px`:u(e)||(e.style.height="");var i=!1,h=d(e).x,p=d(e).y,g=parseInt(e.style.height),m=l-g,y=1e3*parseFloat(e.parentNode.dataset.duration)||500,f=null;let x=o=>{if(i)return c(e,h+t,p+r),l&&(e.style.height=`${l}px`),P.observe(e.parentNode),void window.requestAnimationFrame((()=>{w(e),n(e)}));o-f>=y&&(i=!0);var s,d=(s=(o-f)/y,(1-Math.cos(Math.PI*s))/2);a&&c(e,h+t*d,p+r*d),l&&window.requestAnimationFrame((()=>{e.style.height=`${g+m*d}px`})),requestAnimationFrame(x)};requestAnimationFrame((e=>{(f=e)+y,x(e)}))})),w=r=>{let l=getComputedStyle(r).height;g(r),r.dataset.x=Math.abs(Math.round(i(r)/e(r.children[0]))),r.dataset.y=Math.abs(Math.round(r.scrollTop/t(r.children[0])));let n=o(r);n>=r.children.length&&(n=r.children.length-1);let s=r.querySelector(":scope > [data-active]");if(r.parentElement.classList.contains("n-carousel--auto-height")||(r.style.height=""),s){if(r.children[n]===s)return void p(r);delete s.dataset.active,s.style.height="",u(r)||(r.style.height="")}r.children[n].dataset.active=!0,r.children[n].style.height="",r.style.setProperty("--height",l),window.requestAnimationFrame((()=>{!r.parentNode.dataset.ready&&h(r)&&u(r)&&(r.style.height=parseFloat(getComputedStyle(r).height)-(e=>2*parseInt(getComputedStyle(e).paddingBlockStart))(r)+"px")}));let a=m(r.closest(".n-carousel"),".n-carousel__index");a&&(a.querySelector("[disabled]")&&(a.querySelector("[disabled]").disabled=!1),a.children[n].disabled=!0),p(r)};var x,S,v;const b=r=>{let l=r.target,o=i(l)%e(l.children[0]),n=l.scrollTop%t(l.children[0]);void 0!==window.ontouchstart&&(o>1||n>1||l.parentNode.dataset.sliding||!l.matches(".n-carousel__content"))||(clearTimeout(x),S=i(l),v=l.scrollTop,x=setTimeout((()=>{let r=i(l)%e(l.children[0]),o=l.scrollTop%t(l.children[0]),n=Math.abs(Math.round(i(l)/e(l.children[0]))),s=Math.abs(Math.round(l.scrollTop/t(l.children[0])));if(0!==r||0!==o)return console.log("stuck",n,s,l),w(l),void F(l,u(l)?s:n);if(S===i(l)&&v===l.scrollTop&&0===r&&0===o)if(h(l)){g(l);let e,t=parseFloat(getComputedStyle(l).height),r=0;u(l)?(l.children[s].style.height="auto",e=l.children[s].scrollHeight,l.children[s].style.height="",r=s*e-l.scrollTop):(e=parseFloat(getComputedStyle(l.children[n].children[0]).height),c(l,S,v)),t===e&&(e=!1),l.parentNode.dataset.sliding=!0,window.requestAnimationFrame((()=>{f(l,0,r,e,t)}))}else w(l)}),166))},C=(e,t,r,l)=>{if(clearTimeout(e.nCarouselTimeout),g(e),!e.parentNode.dataset.sliding){e.parentNode.dataset.sliding=!0;let n=e.children[o(e)].clientHeight,s=n,a=0;if(h(e)){let t=i(e),r=e.scrollTop;if(u(e))s=e.children[l].firstElementChild.scrollHeight;else{s=parseFloat(getComputedStyle(e.children[l].children[0]).height);let t=parseInt(e.dataset.x)===l?s:parseFloat(getComputedStyle(e.children[e.dataset.x].children[0]).height);e.style.setProperty("--height",`${t}px`)}c(e,t+(e=>2*parseInt(getComputedStyle(e).paddingInlineStart))(e)/2,r),c(e,t,r)}u(e)&&(a=r-l*n+l*s),window.requestAnimationFrame((()=>{f(e,t,a,s!==n&&s,n)}))}},_=e=>{let t=o(e);F(e,t>=e.children.length-1?0:t+1)},q=e=>{let t=o(e);F(e,0===t?e.children.length-1:t-1)},F=(e,r)=>{if(u(e))C(e,0,t(e.children[r])*r-e.scrollTop,r);else{let t=Math.ceil(parseFloat(getComputedStyle(e.children[r]).width)),l=s(e)?Math.abs(i(e))-t*r:t*r-i(e);C(e,l,0,r)}},A=e=>{let t=e.target;if(t.matches(".n-carousel__content")&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":s(t)?_(t):q(t);break;case"ArrowRight":s(t)?q(t):_(t);break;case"ArrowUp":case"PageUp":q(t);break;case"ArrowDown":case"PageDown":_(t);break;case"Home":F(t,0);break;case"End":F(t,t.children.length-1)}},E=e=>q(y(e.target.closest('[class*="n-carousel"]'))),T=e=>_(y(e.target.closest('[class*="n-carousel"]'))),k=e=>{let t=e.target.closest("button");t&&F(y(t),[...t.parentNode.children].indexOf(t))},N=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target,r=t.closest(".n-carousel__content");t.parentNode.dataset.active&&!r.parentNode.dataset.sliding&&(r.style.height=`${t.scrollHeight}px`)}))}))})),P=new ResizeObserver((r=>{window.requestAnimationFrame((()=>{r.forEach((r=>{let l=r.target;(r=>{if(r.matches(".n-carousel--auto-height")&&r.parentNode.dataset.sliding)return;let l=r.querySelector(":scope > .n-carousel__content");if(l.style.setProperty("--subpixel-compensation-peeking",0),l.style.setProperty("--subpixel-compensation",0),u(r)){let e=l.firstElementChild.getBoundingClientRect().y-l.getBoundingClientRect().y;l.style.setProperty("--subpixel-compensation-peeking",Math.ceil(e)-e),l.style.setProperty("--subpixel-compensation",t(l)-parseFloat(getComputedStyle(l).height))}else{let t=l.firstElementChild.getBoundingClientRect().x-l.getBoundingClientRect().x;l.style.setProperty("--subpixel-compensation-peeking",Math.ceil(t)-t),l.style.setProperty("--subpixel-compensation",e(l.firstElementChild)-parseFloat(getComputedStyle(l.firstElementChild).width))}c(l,l.dataset.x*e(l.firstElementChild),l.dataset.y*t(l.firstElementChild))})(l);let o=l.querySelector(":scope > .n-carousel__content");console.log("resized",o);let n=getComputedStyle(o.querySelector(":scope > [data-active] > *")).height;n!==o.style.getPropertyValue("--height")&&o.style.setProperty("--height",n)}))}))})),M=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},L=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;M(t)}))}))})),I=(r=document)=>{r.querySelectorAll(".n-carousel:not([data-ready])").forEach((r=>{let l=m(r,".n-carousel__previous"),o=m(r,".n-carousel__next"),n=m(r,".n-carousel__index");l&&(l.onclick=E),o&&(o.onclick=T),n&&(n.onclick=k),r.querySelector(".n-carousel__content").onkeydown=A;let s=r.querySelector(":scope > .n-carousel__content");s.tabIndex=0,r.matches(".n-carousel--vertical.n-carousel--auto-height")&&(s.style.height=getComputedStyle(s).height,r.dataset.ready=!0,s.scrollTop=0),r.matches(".n-carousel--vertical.n-carousel--auto-height")&&s.querySelectorAll(":scope > * > *").forEach((e=>N.observe(e)));const i=r.querySelector(":scope > .n-carousel__full-screen button");i&&(i.onclick=e=>{let t=e.target.closest(".n-carousel").querySelector(":scope > .n-carousel__content");t.dataset.xx=t.dataset.x,t.dataset.yy=t.dataset.y,a(e.target)},r.onfullscreenchange=r=>{let l=r.target.querySelector(":scope > .n-carousel__content");window.requestAnimationFrame((()=>{l.dataset.x=l.dataset.xx,l.dataset.y=l.dataset.yy,delete l.dataset.xx,delete l.dataset.yy,c(l,l.dataset.x*e(l.children[l.dataset.x]),l.dataset.y*t(l.children[l.dataset.y]))}))}),window.requestAnimationFrame((()=>{if(P.observe(r),r.dataset.ready=!0,r.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&M(r),w(s),r.matches(".n-carousel--auto-slide")){let e=(1e3*parseFloat(r.dataset.interval)||4e3)+(1e3*parseFloat(r.dataset.duration)||500),t=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(s)&&_(s),s.nCarouselTimeout=setTimeout(t,e)};s.nCarouselTimeout=setTimeout(t,1e3*parseFloat(r.dataset.interval)||4e3),s.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}r.dataset.platform=navigator.platform})),s.nCarouselUpdate=w}))};window.nCarouselInit=I,"function"==typeof registerComponent?registerComponent("n-select",I):I()}();