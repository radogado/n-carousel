!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height));const o=!!navigator.userAgent.match("Chrome"),l=navigator.userAgent.match(/Safari/)&&!o,r=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},a=e=>"rtl"===getComputedStyle(e).direction,s=e=>{e=e.closest(".n-carousel");const t=()=>{document.webkitIsFullScreen||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",t))};document.fullscreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen():(l&&(e.nuiAncestors=(e=>{let t=[],o=r(e);for(;o&&void 0!==o.scrollLeft&&(0!==o.scrollTop||0!==o.scrollLeft);)t.push(o),o=r(o);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",t,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen())},n=e=>e.scrollLeft,i=(e,t,o)=>{e.scrollTo(a(e)?-1*Math.abs(t):t,o)},c=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:n(e),y:e.scrollTop},d=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),h=e=>e.parentNode.matches(".n-carousel--auto-height"),u=e=>{delete e.parentNode.dataset.sliding,window.requestAnimationFrame((()=>{e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&H.observe(e.parentNode),e.addEventListener("scroll",x,{passive:!0})}))},p=e=>{e.removeEventListener("scroll",x),H.unobserve(e.parentNode)},g=e=>2*parseInt(getComputedStyle(e).paddingInlineStart),m=e=>2*parseInt(getComputedStyle(e).paddingBlockStart),y=(e,t)=>{let o=document.querySelector(`${t}[data-for="${e.id}"]`);if(o)return o;for(let o of e.children){if(o.matches(t))return o;if(!o.matches(".n-carousel__content")&&o.querySelector(t))return o.querySelector(t)}},w=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),f=(e,t,o,l,r=!1)=>new Promise(((a,s)=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.closest(".n-carousel").matches(".n-carousel--instant"))return i(e,c(e).x+t,c(e).y+o),e.style.height=`${l}px`,void a(e);L.unobserve(e.parentNode);let n=!0;0===t&&0===o&&(n=!1),l?e.style.height=`${r}px`:d(e)||(e.style.height="");var h=!1,u=c(e).x,p=c(e).y,g=parseInt(e.style.height),m=l-g,y=1e3*parseFloat(e.parentNode.dataset.duration)||1e3,w=null;let f=r=>{if(h)return i(e,u+t,p+o),l&&(e.style.height=`${l}px`),L.observe(e.parentNode),void window.requestAnimationFrame((()=>{S(e),a(e)}));r-w>=y&&(h=!0);var s,c=(s=(r-w)/y,(1-Math.cos(Math.PI*s))/2);n&&i(e,u+t*c,p+o*c),l&&window.requestAnimationFrame((()=>{e.style.height=`${g+m*c}px`})),requestAnimationFrame(f)};requestAnimationFrame((e=>{(w=e)+y,f(e)}))})),S=e=>{let t=getComputedStyle(e).height;p(e);let o=Math.ceil(parseFloat(getComputedStyle(e.children[0]).width)),l=Math.ceil(parseFloat(getComputedStyle(e.children[0]).height));e.dataset.x=Math.abs(Math.round(n(e)/o)),e.dataset.y=Math.abs(Math.round(e.scrollTop/l));let r=d(e)?e.dataset.y:e.dataset.x;r>=e.children.length&&(r=e.children.length-1);let a=e.querySelector(":scope > [data-active]");if(a){if(e.children[r]===a)return void u(e);delete a.dataset.active,a.style.height="",d(e)||(e.style.height="")}e.children[r].dataset.active=!0,e.children[r].style.height="",e.style.setProperty("--height",t),window.requestAnimationFrame((()=>{!e.parentNode.dataset.ready&&h(e)&&d(e)&&(e.style.height=parseFloat(getComputedStyle(e).height)-m(e)+"px")}));let s=y(e.closest(".n-carousel"),".n-carousel__index");s&&(s.querySelector("[disabled]")&&(s.querySelector("[disabled]").disabled=!1),s.children[r].disabled=!0),u(e)};var v,F,b;const x=o=>{let l=o.target,r=Math.ceil(parseFloat(getComputedStyle(l.children[l.dataset.x]).width)),a=Math.ceil(parseFloat(getComputedStyle(l.children[l.dataset.y]).height)),s=n(l)%r,c=l.scrollTop%a;console.log("while scrolling",s,c);void 0!==window.ontouchstart&&(s>1||c>1||l.parentNode.dataset.sliding||!l.matches(".n-carousel__content"))||(clearTimeout(v),F=n(l),b=l.scrollTop,v=setTimeout((()=>{let o=n(l)%r,s=l.scrollTop%a;if(console.log("after timeout",o,s),0===o&&0===s){if(F===n(l)&&b===l.scrollTop&&0===o&&0===s)if(p(l),h(l)){let t,o=parseFloat(getComputedStyle(l).height);if(d(l)){let e=Math.abs(Math.round(l.scrollTop/(l.offsetHeight-m(l))));l.children[e].style.height="auto",t=l.children[e].scrollHeight,l.children[e].style.height="";var c=e*t-l.scrollTop}else{let o=Math.abs(Math.round(n(l)/(e(l)-g(l))));t=parseFloat(getComputedStyle(l.children[o].children[0]).height),i(l,F,b);c=0}o===t&&(t=!1),l.parentNode.dataset.sliding=!0,window.requestAnimationFrame((()=>{f(l,0,c,t,o)}))}else S(l)}else{let o=Math.abs(Math.round(n(l)/(e(l)-g(l)))),r=Math.abs(Math.round(l.scrollTop/(t(l)-m(l))));C(l,d(l)?r:o)}}),133))},q=(e,t,o,l)=>{if(clearTimeout(e.nCarouselTimeout),p(e),!e.parentNode.dataset.sliding){let r=e.children[e.dataset.y].clientHeight;e.parentNode.dataset.sliding=!0;let a=r;if(h(e)){let t=n(e),o=e.scrollTop;if(d(e))e.children[l].style.height="auto",a=e.children[l].scrollHeight;else{a=parseFloat(getComputedStyle(e.children[l].children[0]).height);let t=parseInt(e.dataset.x)===l?a:parseFloat(getComputedStyle(e.children[e.dataset.x].children[0]).height);e.style.setProperty("--height",`${t}px`),console.log("old index",e.dataset.x,"new index",l,"--height (old height):",t,"new height",a)}e.children[l].style.width=e.children[l].style.height="",i(e,t+g(e)/2,o),i(e,t,o)}let s=d(e)?o-l*r+l*a:0;window.requestAnimationFrame((()=>{f(e,t,s,a!==r&&a,r)}))}},_=e=>{let t=1*(d(e)?e.dataset.y:e.dataset.x);C(e,t>=e.children.length-1?0:t+1)},A=e=>{let t=1*(d(e)?e.dataset.y:e.dataset.x);C(e,0===t?e.children.length-1:t-1)},C=(e,t)=>{if(d(e)){let o=Math.ceil(parseFloat(getComputedStyle(e.children[t]).height));q(e,0,o*t-e.scrollTop,t)}else{let o=Math.ceil(parseFloat(getComputedStyle(e.children[t]).width)),l=a(e)?Math.abs(n(e))-o*t:o*t-n(e);q(e,l,0,t)}},T=e=>{let t=e.target;if(t.matches(".n-carousel__content")&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":a(t)?_(t):A(t);break;case"ArrowRight":a(t)?A(t):_(t);break;case"ArrowUp":case"PageUp":A(t);break;case"ArrowDown":case"PageDown":_(t);break;case"Home":C(t,0);break;case"End":C(t,t.children.length-1)}},M=e=>A(w(e.target.closest('[class*="n-carousel"]'))),N=e=>_(w(e.target.closest('[class*="n-carousel"]'))),k=e=>{let t=e.target.closest("button");t&&C(w(t),[...t.parentNode.children].indexOf(t))},E=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target,o=t.closest(".n-carousel__content");t.parentNode.dataset.active&&!o.parentNode.dataset.sliding&&(o.style.height=`${t.scrollHeight}px`)}))}))})),L=new ResizeObserver((o=>{window.requestAnimationFrame((()=>{o.forEach((o=>{let l=o.target;if(l.matches(".n-carousel--auto-height")&&l.parentNode.dataset.sliding)return;let r=l.querySelector(":scope > .n-carousel__content");d(l)?r.style.setProperty("--subpixel-compensation",t(r)-parseFloat(getComputedStyle(r).height)):r.style.setProperty("--subpixel-compensation",e(r)-parseFloat(getComputedStyle(r).width))}))}))})),P=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},H=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;P(t)}))}))})),I=e=>{e.querySelectorAll(".n-carousel:not([data-ready])").forEach((e=>{let t=y(e,".n-carousel__previous"),o=y(e,".n-carousel__next"),l=y(e,".n-carousel__index");t&&(t.onclick=M),o&&(o.onclick=N),l&&(l.onclick=k),e.querySelector(".n-carousel__content").onkeydown=T;let r=e.querySelector(":scope > .n-carousel__content");r.tabIndex=0,e.matches(".n-carousel--vertical.n-carousel--auto-height")&&(r.style.height=getComputedStyle(r).height,e.dataset.ready=!0,r.scrollTop=0),e.matches(".n-carousel--vertical.n-carousel--auto-height")&&r.querySelectorAll(":scope > * > *").forEach((e=>E.observe(e)));const a=e.querySelector(":scope > .n-carousel__full-screen button");a&&(a.onclick=e=>s(e.target)),window.requestAnimationFrame((()=>{if(L.observe(e),e.dataset.ready=!0,e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&P(e),S(r),e.matches(".n-carousel--auto-slide")){let t=(1e3*parseFloat(e.dataset.interval)||4e3)+(1e3*parseFloat(e.dataset.duration)||1e3),o=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r)&&_(r),r.nCarouselTimeout=setTimeout(o,t)};r.nCarouselTimeout=setTimeout(o,1e3*parseFloat(e.dataset.interval)||4e3),r.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}e.dataset.platform=navigator.platform}))}))};"function"==typeof registerComponent?registerComponent("n-select",I):I(document)}();