function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,l=new Array(t);r<t;r++)l[r]=e[r];return l}function t(t,r){var l="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(l)return(l=l.call(t)).next.bind(l);if(Array.isArray(t)||(l=function(t,r){if(t){if("string"==typeof t)return e(t,r);var l=Object.prototype.toString.call(t).slice(8,-1);return"Object"===l&&t.constructor&&(l=t.constructor.name),"Map"===l||"Set"===l?Array.from(t):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){l&&(t=l);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array instances must have a [Symbol.iterator]() method.")}if(!("onscrollend"in window)){var n=function(e,t,r){var l=e[t];e[t]=function(){var e=Array.prototype.slice.apply(arguments,[0]);l.apply(this,e),e.unshift(l),r.apply(this,e)}},r=function(e,t,r,n){if("scroll"==t||"scrollend"==t){var o=this,s=l.get(o);if(void 0===s){var c=0;s={scrollListener:function(e){clearTimeout(c),c=setTimeout((function(){a.size?setTimeout(s.scrollListener,100):(o.dispatchEvent(i),c=0)}),100)},listeners:0},e.apply(o,["scroll",s.scrollListener]),l.set(o,s)}s.listeners++}},o=function(e,t,r){if("scroll"==t||"scrollend"==t){var n=this,a=l.get(n);void 0!==a&&(a[t]--,--a.listeners>0||(e.apply(n,["scroll",a.scrollListener]),l.delete(n)))}},i=new Event("scrollend"),a=new Set;document.addEventListener("touchstart",(function(e){for(var r,l=t(e.changedTouches);!(r=l()).done;)a.add(r.value.identifier)}),{passive:!0}),document.addEventListener("touchend",(function(e){for(var r,l=t(e.changedTouches);!(r=l()).done;)a.delete(r.value.identifier)}),{passive:!0});var l=new WeakMap;n(Element.prototype,"addEventListener",r),n(window,"addEventListener",r),n(document,"addEventListener",r),n(Element.prototype,"removeEventListener",o),n(window,"removeEventListener",o),n(document,"removeEventListener",o)}!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height)),r='button, [href], input, select, textarea, details, summary, video, [tabindex]:not([tabindex="-1"])';const l=navigator.userAgent.match(/Safari/)&&!navigator.userAgent.match("Chrome"),n=e=>e.children.length>2&&e.parentElement.classList.contains("n-carousel--endless"),a=()=>!(!document.webkitFullscreenElement&&!document.fullscreenElement),o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen()},s=e=>e.closest(".n-carousel"),i=e=>s(e)?.classList.contains("n-carousel--overlay"),c=e=>s(e)?.matches(".n-carousel--vertical"),d=e=>{const t=s(e);return!!t&&(!a()&&!t.classList.contains("n-carousel--overlay")&&t.matches(".n-carousel--auto-height"))},u=e=>{let t=e.querySelectorAll(".n-carousel__control");return t.length>0?t:e.querySelectorAll("a, button")},h=e=>{e=e.target||e;const t=getComputedStyle(e);let r=Math.abs(Math.round(c(e)?e.scrollTop/(e.offsetHeight-parseFloat(t.paddingBlockStart)-parseFloat(t.paddingBlockEnd)):e.scrollLeft/(e.offsetWidth-parseFloat(t.paddingInlineStart)-parseFloat(t.paddingInlineEnd)),2));r>=e.children.length&&(r=e.children.length-1);let l=e.children[r];if(e.parentNode.sliding||e.dataset.next&&parseInt(e.dataset.next)!==Array.prototype.indexOf.call(e.children,l))return;e.parentNode.querySelector&&null!==e.parentNode.querySelector(".n-carousel[data-enteringFullscreen]")||(e.parentNode.dataset.sliding=!0),delete e.dataset.next,X(e),e.scrollLeft,e.scrollTop;setTimeout((()=>{let t=Array.prototype.indexOf.call(e.children,l);if(d(e)){let r,n=parseFloat(getComputedStyle(e).height),o=0,s=0,d=e.scrollLeft,u=e.scrollTop;if(c(e)){let o=e.scrollTop;l.style.height="auto";let c=getComputedStyle(e).maxHeight,d=c.match(/px/)?Math.ceil(parseFloat(c)):99999;r=Math.min(Math.ceil(parseFloat(getComputedStyle(l).height)),d),(i(e)||a())&&(n=r=e.offsetHeight),l.style.height="",e.scrollTop=o,s=t*r-e.scrollTop}else{r=p(l);const a=getComputedStyle(e);if(parseFloat(a.paddingInlineStart)>0)return n!==r&&e.parentNode.style.setProperty("--height",`${r}px`),void setTimeout((()=>N(e,!0)),210);d&&S(e,d,u);let s=Math.ceil(parseFloat(getComputedStyle(l).width));o=f(e)?Math.abs(w(e))-s*t:s*t-w(e)}n===r&&(r=!1),window.requestAnimationFrame((()=>{F(e,o,s,r,n).then((()=>{}))}))}else window.requestAnimationFrame((()=>{N(e)}))}),10)},p=e=>{e.style.height=0,e.style.overflow="auto";const t=e.scrollHeight;return e.style.height=e.style.overflow="",t},y=e=>1*(c(e)?e.dataset.y:e.dataset.x),m=e=>{let t=e.querySelector(":scope > [aria-current]");if(t)return[...e.children].indexOf(t);{let t=null;if(location.hash&&location.hash.length>1)try{t=e.querySelector(`:scope > ${location.hash}`)}catch(e){}let r=t?Array.prototype.indexOf.call(e.children,t):-1;return r>-1?r:0}},g=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},f=e=>"rtl"===getComputedStyle(e).direction,v=e=>{let t=(e=s(e)).querySelector(":scope > .n-carousel__content");const r=()=>{a()||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",r))};if(t.togglingFullScreen=!0,a()){if(o(),l&&setTimeout((()=>{e.style.display="none",window.requestAnimationFrame((()=>{e.style.display=""}))}),0),c(e)&&d(e)){let t=r=>{setTimeout((()=>{let t=e.querySelector(":scope > .n-carousel__content");I(t,parseInt(t.dataset.y))}),100),e.removeEventListener("fullscreenchange",t)};e.addEventListener("fullscreenchange",t)}}else{if(e.classList.contains("n-carousel--inline")&&e.classList.contains("n-carousel--overlay")){e.dataset.enteringFullscreen="true";let t=e.closest(".n-carousel__content");if(t){let e=s(t);e&&delete e.dataset.sliding}}l&&(e.nuiAncestors=(e=>{let t=[],r=g(e);for(;r&&void 0!==r.scrollLeft&&(0!==r.scrollTop||0!==r.scrollLeft);)t.push(r),r=g(r);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",r,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()}},w=e=>e.scrollLeft,S=(e,t,r)=>{e.scrollTo(f(e)?-1*Math.abs(t):t,r)},x=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:w(e),y:e.scrollTop};let E=null,q=null,b=null;const C=e=>{("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===E&&(b.focus(),e.preventDefault()):document.activeElement===b&&(E.focus(),e.preventDefault()))},_=(e,t=!1)=>{E=e.querySelectorAll(r)[0],q=e.querySelectorAll(r),b=q[q.length-1],t?e.removeEventListener("keydown",C):(e.addEventListener("keydown",C),E.focus())},A=(e,t)=>{let r=document.querySelector(`${t}[data-for="${e.id}"]`);if(r)return r;for(let r of e.children){if(r.matches(t))return r;if(!r.matches(".n-carousel__content")&&r.querySelector(t))return r.querySelector(t)}},L=e=>{var t=e.closest('[class*="n-carousel"]').dataset.for;return t?document.getElementById(t).querySelector(".n-carousel__content"):e.closest(".n-carousel").querySelector(".n-carousel__content")},F=(e,t,r,l,n=!1)=>new Promise((a=>{let o=s(e);if(o.nextSlideInstant||!o.dataset.ready||window.matchMedia("(prefers-reduced-motion: reduce)").matches||o.matches(".n-carousel--instant"))return S(e,x(e).x+t,x(e).y+r),e.style.height=`${l}px`,delete o.nextSlideInstant,N(e),void a(e);X(e);let i=!0;0===t&&0===r&&(i=!1),l?(e.style.height=`${n}px`,c(e)&&d(e)&&e.style.setProperty("--subpixel-compensation",0)):c(e)||(e.style.height="");var u=x(e).x,h=x(e).y,p=parseInt(e.style.height),y=l-p,m=1e3*parseFloat(e.parentNode.dataset.duration)||500,g=null;let f=n=>{if(n-g>=m)return window.requestAnimationFrame((()=>{S(e,u+t,h+r),l&&(e.style.height=`${l}px`),N(e)})),void a(e);var o=(e=>(1-Math.cos(Math.PI*e))/2)((n-g)/m);i&&S(e,u+t*o,h+r*o),l&&window.requestAnimationFrame((()=>{e.style.height=`${p+y*o}px`})),requestAnimationFrame(f)};requestAnimationFrame((e=>{g=e,f(e)}))})),N=(r,a=!1)=>{if(r.togglingFullScreen)return;if(null!==r.querySelector(":scope .n-carousel--overlay")&&!a)return;const o="true"===r.dataset.skipUpdate&&!a;X(r);let i,h,g=r.dataset.x,f=r.dataset.y;o||(r.dataset.x=Math.abs(Math.round(w(r)/e(r.firstElementChild))),r.dataset.y=Math.abs(Math.round(r.scrollTop/t(r.firstElementChild)))),"NaN"===r.dataset.x&&(r.dataset.x=0),"NaN"===r.dataset.y&&(r.dataset.y=0);let v=r.querySelector(":scope > [aria-current]"),x=r.parentElement;if(o?(h=v||r.children[0],i=h?Array.prototype.indexOf.call(r.children,h):0,i<0&&(i=0),i>=r.children.length&&(i=r.children.length-1)):(i=y(r),i>=r.children.length&&(i=r.children.length-1),d(x)||(r.style.height=""),h=r.children[i]),v&&!a){if(h===v)return r.dataset.x=g,r.dataset.y=f,void z(r);v.removeAttribute("aria-current"),v.style.height="",c(r)||(r.style.height="")}h.setAttribute("aria-current",!0);var E=r.dataset.x=r.dataset.y=m(r);const q=e=>{e.querySelectorAll(":scope > [data-first]").forEach((t=>{e.append(e.firstElementChild),delete t.dataset.first,i--})),e.querySelectorAll(":scope > [data-last]").forEach((t=>{e.prepend(e.lastElementChild),delete t.dataset.last,i++}))};if((h!==v||a)&&(x.dataset.sliding=!0),n(r)&&!a){if(0===i)h.dataset.first?(delete r.firstElementChild.dataset.first,r.append(r.firstElementChild),r.firstElementChild.dataset.last=!0,r.append(r.firstElementChild),E=r.children.length-1,i=r.children.length-2):(r.lastElementChild.dataset.last?(delete r.lastElementChild.dataset.last,E=1):r.lastElementChild.dataset.first=!0,r.prepend(r.lastElementChild),i=1);else if(i===r.children.length-1)h.dataset.last?(delete r.lastElementChild.dataset.last,r.prepend(r.lastElementChild),r.lastElementChild.dataset.first=!0,r.prepend(r.lastElementChild),E=0,i=1):(r.firstElementChild.dataset.first?(delete r.firstElementChild.dataset.first,E=r.children.length-2):r.firstElementChild.dataset.last=!0,r.append(r.firstElementChild),i=r.children.length-2);else{q(r);let e=r.querySelector(":scope > [aria-current]");E=e?Math.max(0,Array.prototype.indexOf.call(r.children,e)):0}const l=()=>{r.dataset.x=r.dataset.y=E;let l=e(r.firstElementChild)*i,n=t(r.firstElementChild)*i;r.scroll_x=l,r.scroll_y=n,S(r,l,n),delete r.scroll_x,delete r.scroll_y};c(r)&&d(r)?window.requestAnimationFrame((()=>{l()})):l()}else{q(r);let e=r.querySelector(":scope > [aria-current]");E=e?Math.max(0,Array.prototype.indexOf.call(r.children,e)):0}if(h.style.height="",x.style.setProperty("--height",`${d(r)?p(h):h.scrollHeight}px`),window.requestAnimationFrame((()=>{!r.parentNode.dataset.ready&&d(r)&&c(r)&&(r.style.height=parseFloat(getComputedStyle(r).height)-(e=>2*parseInt(getComputedStyle(e).paddingBlockStart))(r)+"px")})),"hidden"!==getComputedStyle(r).visibility){let e=document.activeElement,t=h.id;r.parentNode.dataset.ready&&t&&!r.parentNode.closest(".n-carousel__content")&&(location.hash=`#${t}`),r.parentNode.dataset.ready&&!t&&!r.parentNode.closest(".n-carousel__content")&&window.nCarouselNav&&(location.hash=""),e.focus()}let b=A(s(r),".n-carousel__index");b&&(b.querySelector("[aria-current]")?.removeAttribute("aria-current"),u(b)[E].setAttribute("aria-current",!0)),[...r.children].forEach((e=>{const t=e===document.fullscreenElement||e===document.webkitFullscreenElement,r=e.classList&&e.classList.contains("n-carousel--overlay"),n=e.querySelector&&null!==e.querySelector(".n-carousel--overlay");if(t||r||n?(e.inert=!1,e.removeAttribute("inert")):e.inert=e!==h,l&&e.querySelector(".n-carousel:-webkit-full-screen")){let t=e.parentNode.querySelector(':scope > [aria-current="true"]');t.inert=!0,t.removeAttribute("aria-current"),e.inert=!1,e.setAttribute("aria-current",!0)}})),/--vertical.*--auto-height/.test(x.classList)&&(r.scrollTop=r.offsetHeight*E),window.requestAnimationFrame((()=>{z(r)}))},T=(e,t=0,r=0,l)=>{clearTimeout(e.nCarouselTimeout);const n=e.parentNode.querySelector&&null!==e.parentNode.querySelector(".n-carousel[data-enteringFullscreen]");if(!e.parentNode.dataset.sliding&&!n){e.parentNode.dataset.sliding=!0;let n=e.children[m(e)].offsetHeight,a=n;if(d(e)){let t=w(e),r=e.scrollTop,n=e.children[l];if(c(e)){n.style.height="auto";let t=getComputedStyle(e).maxHeight,r=t.match(/px/)?Math.ceil(parseFloat(t)):99999;a=Math.min(Math.ceil(parseFloat(getComputedStyle(n).height)),r),n.style.height=""}else{a=p(n);let t=m(e)===l?a:p(e.children[m(e)]);e.parentNode.style.setProperty("--height",`${t}px`)}S(e,t+(e=>2*parseInt(getComputedStyle(e).paddingInlineStart))(e)/2,r),S(e,t,r)}c(e)&&(r=r-l*n+l*a),window.requestAnimationFrame((()=>{e.parentNode.dataset.duration||d(e)?F(e,t,r,a!==n&&a,n):(delete e.parentNode.dataset.sliding,e.dataset.next=l,e.scrollTo({top:e.scrollTop+r,left:e.scrollLeft+t,behavior:window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth"}))}))}},k=e=>{let t=m(e);I(e,t>=e.children.length-1?0:t+1)},M=e=>{let t=m(e);I(e,0===t?e.children.length-1:t-1)},I=(e,r)=>{if(c(e))T(e,0,t(e.children[r])*r-e.scrollTop,r);else{let t=Math.ceil(parseFloat(getComputedStyle(e.children[r]).width)),l=f(e)?Math.abs(w(e))-t*r:t*r-w(e);T(e,l,0,r)}},P=e=>{let t=s(e.target).querySelector(":scope > .n-carousel__content");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key))switch(e.key){case"ArrowLeft":f(t)?k(t):M(t);break;case"ArrowRight":f(t)?M(t):k(t);break;case"ArrowUp":case"PageUp":M(t);break;case"ArrowDown":case"PageDown":k(t);break;case"Home":I(t,0);break;case"End":I(t,t.children.length-1)}},$=e=>M(L(e.target.closest('[class*="n-carousel"]'))),H=e=>k(L(e.target.closest('[class*="n-carousel"]'))),O=e=>{let t=e.target.closest("a, button");if(t&&(!t.href||!e.ctrlKey&&!e.metaKey)){const e=document.querySelector(`.n-carousel#${t.parentNode.dataset.for}`)||t.closest(".n-carousel"),l=e.querySelector(":scope > .n-carousel__content");let a=Array.prototype.indexOf.call(u(t.parentNode),t);if(n(l)){var r=y(l);0===r&&(a===l.children.length-1?a=0:a++),r===l.children.length-1&&(0===a?a=l.children.length-1:a--)}return e.classList.contains("n-carousel--inline")&&!i(l)?(e.nextSlideInstant=!0,W(l),window.requestAnimationFrame((()=>{l.dataset.x=l.dataset.y=a,S(l,l.offsetWidth*l.dataset.x,l.offsetHeight*l.dataset.y),document.body.dataset.frozen=document.body.scrollTop,N(l)}))):window.requestAnimationFrame((()=>{I(l,a)})),!1}},B=e=>{let t=document.querySelector(".n-carousel--overlay");t&&"Escape"===e.key&&R(t)},R=e=>{let t=L(e),r=t?s(t):null;if(r&&r.classList.contains("n-carousel--inline")&&r.classList.contains("n-carousel--overlay")&&a())o();else{if(a()&&o(),t){t.parentNode.toggleModal=!0,r.classList.remove("n-carousel--overlay"),_(r,!0),delete document.body.dataset.frozen;let e=r.closest(".n-carousel__content");if(e){let t=s(e);t&&(delete t.dataset.sliding,N(e,!0))}}document.body.removeEventListener("keyup",B)}},W=e=>{let t=L(e);if(t){let e=s(t);t.parentNode.toggleModal=!0,e.classList.add("n-carousel--overlay"),_(e),setTimeout((()=>{document.body.addEventListener("keyup",B)}),100)}},D=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target.querySelector(":scope > [aria-current]");if(!t)return;let r=t.closest(".n-carousel__content");if(!r)return;if(s(r),null!==r.querySelector(":scope .n-carousel--overlay"))return;if(r.parentElement.dataset.sliding)return;let l,n=parseFloat(getComputedStyle(r).height);c(r)?(t.style.height="auto",l=t.scrollHeight,t.style.height=""):l=p(t),Math.abs(n-l)>1&&(r.parentNode.style.removeProperty("--height"),c(r)?(r.style.height=`${l}px`,N(r)):(r.style.height="",r.style.height=`${l}px`,N(r,!0)))}))}))})),U=r=>{if(!r.parentNode.dataset.sliding){let l=r;l.style.padding="",l.style.removeProperty("--peek-int"),l.style.padding=c(l)?`${parseInt(getComputedStyle(l).paddingBlockStart)}px 0`:`0 ${parseInt(getComputedStyle(l).paddingInlineStart)}px`,"0px"===l.style.padding?l.style.padding="":l.style.setProperty("--peek-int",c(l)?`${parseInt(getComputedStyle(l).paddingBlockStart)}px 0 0 0`:`0 ${parseInt(getComputedStyle(l).paddingInlineStart)}px 0 0`),window.requestAnimationFrame((()=>{c(r)?l.style.setProperty("--subpixel-compensation",Math.ceil(l.getBoundingClientRect().height)-l.getBoundingClientRect().height):l.style.setProperty("--subpixel-compensation",Math.ceil(l.getBoundingClientRect().width)-l.getBoundingClientRect().width);let n=m(l);l.firstElementChild&&S(l,n*e(l.firstElementChild),n*t(l.firstElementChild))}))}},z=e=>{window.requestAnimationFrame((()=>{null!==e.querySelector(":scope .n-carousel--overlay")||(e.scroll_x&&e.scroll_y&&S(e,e.scroll_x,e.scroll_y),i(e.parentNode)||a()||(e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")?G.observe(e.parentNode):G.unobserve(e.parentNode)),K.observe(e),j.observe(e.parentNode,{attributes:!0,attributeFilter:["class"]}),e.addEventListener("scrollend",h),delete e.parentNode.dataset.sliding,!("onscrollend"in window)&&n(e)&&S(e,e.offsetWidth*m(e),e.offsetHeight*m(e)))}))},X=e=>{G.unobserve(e.parentNode),K.unobserve(e),e.observerStarted=!0,e.removeEventListener("scrollend",h)},Y=e=>{if(null!==e.querySelector(":scope .n-carousel--overlay"))return;X(e);const t=e=>{U(e),window.requestAnimationFrame((()=>{let t=e.querySelector(":scope > [aria-current]").scrollHeight+"px";t!==getComputedStyle(e).getPropertyValue("--height")&&e.parentNode.style.setProperty("--height",t),z(e)}))};t(e),e.querySelectorAll(".n-carousel__content").forEach((e=>t(e)))},K=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;t.observerStarted?t.observerStarted=!1:Y(t)}))}))})),j=new MutationObserver((e=>{for(let t of e)if(t.target&&!t.target.nextSlideInstant&&!t.target.toggleModal){let e=t.target.querySelector(":scope > .n-carousel__content");e&&null===e.querySelector(":scope .n-carousel--overlay")&&(Y(e),N(e,!0)),delete t.target.toggleModal}})),V=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},G=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;V(t)}))}))})),J=(r=document)=>{r.querySelectorAll(".n-carousel:not([data-ready])").forEach((r=>{const n=A(r,".n-carousel__previous"),o=A(r,".n-carousel__next"),u=A(r,".n-carousel__index"),h=A(r,".n-carousel__close"),p=A(r,".n-carousel__full-screen"),y=r.querySelector(":scope > .n-carousel__content");if(!y)return;if(n&&(n.onclick=$),o&&(o.onclick=H),u&&(u.onclick=O),h&&(h.onclick=e=>{s(e.target).classList.contains("n-carousel--overlay")?R(e.target):W(e.target)}),p){p.onclick=e=>{let t=s(e.target).querySelector(":scope > .n-carousel__content");t.dataset.xx=t.dataset.x,t.dataset.yy=t.dataset.y,v(e.target)};const n=r=>{let l=r.target.querySelector(":scope > .n-carousel__content"),n=s(l);if(n&&n.classList.contains("n-carousel--inline")&&n.classList.contains("n-carousel--overlay")&&a()){delete n.dataset.enteringFullscreen;let e=n.closest(".n-carousel__content");if(e){let t=s(e);t&&delete t.dataset.sliding}}window.requestAnimationFrame((()=>{l.dataset.x=l.dataset.xx,l.dataset.y=l.dataset.yy,delete l.dataset.xx,delete l.dataset.yy,"undefined"!==l.dataset.x&&"undefined"!==l.dataset.y&&S(l,m(l)*e(l.children[m(l)]),m(l)*t(l.children[m(l)])),delete l.togglingFullScreen,N(l)}))};l?r.onwebkitfullscreenchange=n:r.onfullscreenchange=n}r.addEventListener("keydown",P),r.addEventListener("keyup",(e=>{if("Escape"===e.key){let t=e.target;if(!t.closest(".n-carousel--overlay")){let e=document.querySelector(".n-carousel--overlay");if(e){let t=e.querySelector(":scope > .n-carousel__content");t&&R(t)}return}t&&R(t)}})),U(y),y.observerStarted=!0;let g=!1;if(location.hash&&location.hash.length>1)try{g=y.querySelector(":scope > "+location.hash)}catch(e){}if(g){r.classList.contains("n-carousel--inline")&&W(y);let e=Array.prototype.indexOf.call(g.parentNode.children,g);c(y)?y.dataset.y=e:y.dataset.x=e,window.nCarouselNav=[y,location.hash]}if(i(r)||a()||(r.matches(".n-carousel--vertical.n-carousel--auto-height")&&(y.style.height="",y.style.height=getComputedStyle(y).height,r.dataset.ready=!0,y.scrollTop=0),d(r)&&D.observe(y)),window.requestAnimationFrame((()=>{if(z(y),r.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&V(r),N(y),r.dataset.ready=!0,r.matches(".n-carousel--auto-slide")){let e=(1e3*parseFloat(r.dataset.interval)||4e3)+(1e3*parseFloat(r.dataset.duration)||500),t=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.offsetHeight)&&t.right<=(window.innerWidth||document.documentElement.offsetWidth)})(y)&&k(y),y.nCarouselTimeout=setTimeout(t,e)};y.nCarouselTimeout=setTimeout(t,1e3*parseFloat(r.dataset.interval)||4e3),y.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}r.dataset.platform=navigator.platform})),y.nCarouselUpdate=N,r.matches(".n-carousel--lightbox")){let e=e=>{e.closest("picture").dataset.loaded=!0};y.querySelectorAll("picture img").forEach((t=>{t.complete?e(t):t.addEventListener("load",(t=>{e(t.target)}))}))}}))};window.nCarouselInit=J,window.addEventListener("popstate",(e=>{if(location.hash){let e=document.querySelector(location.hash),t=e?.parentNode;if(t&&t.classList.contains("n-carousel__content")&&!t.parentNode.closest(".n-carousel__content")){let r=document.querySelector(".n-carousel--overlay > .n-carousel__content");r&&r!==t&&R(r),t.parentNode.classList.contains("n-carousel--inline")&&R(t),l&&S(t,t.offsetWidth*t.dataset.x,t.offsetHeight*t.dataset.y),I(t,Array.prototype.indexOf.call(t.children,e)),window.nCarouselNav=[t,location.hash]}}else if(window.nCarouselNav){let e=window.nCarouselNav[0];delete window.nCarouselNav,l&&S(e,e.offsetWidth*e.dataset.x,e.offsetHeight*e.dataset.y),I(e,Array.prototype.indexOf.call(e.children,e.querySelector(":scope > :not([id])")))}}));const Q=()=>{"undefined"!=typeof nui&&"function"==typeof nui.registerComponent?nui.registerComponent("n-carousel",J):J()};"loading"!==document.readyState?Q():document.addEventListener("DOMContentLoaded",Q)}();
//# sourceMappingURL=n-carousel.min.js.map
