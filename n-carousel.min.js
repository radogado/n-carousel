function e(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function f(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:e(a)}}function g(a){if(!(a instanceof Array)){a=f(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function k(a){return a===window?{x:a.scrollX,y:a.scrollY}:{x:a.scrollLeft,y:a.scrollTop}}
function l(a){a.addEventListener("scroll",m);"function"===typeof ResizeObserver?q.observe(a):window.addEventListener("resize",r);console.log(a.scrollLeft,a.scrollTop);var b=a.scrollLeft,c=a.scrollTop;delete a.dataset.a;a.scrollTo(b,c);console.log("Observers On")}function t(a){a.removeEventListener("scroll",m);"function"===typeof ResizeObserver?q.unobserve(a):window.removeEventListener("resize",r);console.log("Observers Off")}
function u(a,b,c){var d=void 0===d?300:d;return new Promise(function(C){function D(){var h=(performance.now()-N)/d;1<h&&(h=1);a.scrollTo(E+O*Math.cos(h*Math.PI),F+P*Math.cos(h*Math.PI));1>h?window.requestAnimationFrame(D):(navigator.userAgent.match("Firefox")||a.scrollTo(G,H),C(a))}a.dataset.a&&C("Already animating");if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)a.scrollTo(k(a).x+b,k(a).y+c);else{a.dataset.a=!0;var n=k(a).x,p=k(a).y,G=n+b,H=p+c,E=.5*(n+G),F=.5*(p+H),O=n-E,P=p-F,
N=performance.now();window.requestAnimationFrame(D)}})}function v(a){return 2*parseInt(getComputedStyle(a).c)}function w(a){return 2*parseInt(getComputedStyle(a).b)}function x(a,b){for(var c=f(a.children),d=c.next();!d.done;d=c.next()){d=d.value;if(d.matches(b))return d;if(!d.matches(".n-carousel--content")&&d.querySelector(b))return d.querySelector(b)}return!1}
function y(a){console.log("updateCarousel",a);t(a);a.dataset.x=Math.round(a.scrollLeft/(a.offsetWidth-v(a)));a.dataset.y=Math.round(a.scrollTop/(a.offsetHeight-w(a)));var b=a.querySelector(":scope > [data-active]");b&&delete b.dataset.active;b=a.classList.contains("n-carousel__vertical")?a.dataset.y:a.dataset.x;b>=a.children.length&&(b=a.children.length-1);!a.parentNode.dataset.ready&&a.classList.contains("n-carousel__auto")&&(a.style.height=a.offsetHeight-w(a)+"px");if(a.parentNode.dataset.ready&&
a.classList.contains("n-carousel__auto")){var c=a.children[b].scrollHeight;if(a.classList.contains("n-carousel__vertical")){a.children[b].style.height="auto";var d=a.children[b].scrollHeight;a.style.setProperty("--height",d+"px");a.children[b].style.height=c+"px";console.log(d*b);a.scrollTo(0,d*b)}else d=a.children[b].scrollHeight;(getComputedStyle(a).transition.match("none")||a.offsetHeight===d)&&l(a);a.style.height=d+"px"}else l(a);a.children[b].dataset.active=!0;c=a.closest(".n-carousel");d=x(c,
".n-carousel--index");d.querySelector("[disabled]")&&(d.querySelector("[disabled]").disabled=!1);d.children[b].disabled=!0;x(c,".n-carousel--previous").disabled="0"===b?!0:!1;x(c,".n-carousel--next").disabled=b>=a.children.length-1?!0:!1}var z,A,B,I;
function m(a){clearTimeout(z);A=a.target.scrollLeft;B=a.target.scrollTop;z=setTimeout(function(){A===a.target.scrollLeft&&B===a.target.scrollTop&&(console.log("Scrolling has stopped.",a.target,a.target.scrollLeft,A,a.target.scrollTop,B),y(a.target))},200)}function J(a,b,c){t(a);a.dataset.a||u(a,b,c).then(function(){y(a)})}function K(a){a.classList.contains("n-carousel__vertical")?J(a,0,a.offsetHeight-w(a)):J(a,a.offsetWidth-v(a),0)}
function L(a){a.classList.contains("n-carousel__vertical")?J(a,0,-1*(a.offsetHeight-w(a))):J(a,-1*(a.offsetWidth-v(a)),0)}function M(a,b){a.classList.contains("n-carousel__vertical")?J(a,0,(a.offsetHeight-w(a))*b-a.scrollTop):J(a,(a.offsetWidth-v(a))*b-a.scrollLeft,0)}
function r(a){document.querySelectorAll(".n-carousel--content").forEach(function(b){clearTimeout(I);I=setTimeout(function(){b.scrollTo(b.offsetWidth*b.dataset.x-v(b),b.offsetHeight*b.dataset.y+w(b));console.log("Resizing has stopped.",a.target)},66)})}if("function"===typeof ResizeObserver)var q=new ResizeObserver(function(a){a.forEach(function(){})});
function Q(a){var b=["ArrowLeft","ArrowRight","Home","End"];console.log(a);var c=a.target;if(c.classList.contains("n-carousel--content")&&b.includes(a.key))switch(a.preventDefault(),a.key){case "ArrowLeft":L(c);break;case "ArrowRight":K(c);break;case "ArrowUp":L(c);break;case "ArrowDown":K(c);break;case "Home":M(c,0);break;case "End":M(c,c.children.length-1)}}
document.querySelectorAll(".n-carousel:not([data-ready])").forEach(function(a){x(a,".n-carousel--previous").onclick=function(c){L(c.target.closest(".n-carousel").querySelector(".n-carousel--content"))};x(a,".n-carousel--next").onclick=function(c){K(c.target.closest(".n-carousel").querySelector(".n-carousel--content"))};x(a,".n-carousel--index").onclick=function(c){c=c.target;"BUTTON"===c.tagName&&M(c.closest(".n-carousel").querySelector(".n-carousel--content"),[].concat(g(c.parentNode.children)).indexOf(c))};
a.querySelector(".n-carousel--content").onkeydown=Q;var b=a.querySelector(":scope > .n-carousel--content");b.tabIndex=0;y(b);b.addEventListener("transitionend",function(c){console.log(c);c=c.target;x(c,"[data-active]").style.height="";l(c)});a.dataset.ready=!0;l(a)});