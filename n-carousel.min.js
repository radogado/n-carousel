!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height)),l='button, [href], input, select, textarea, details, summary, video, [tabindex]:not([tabindex="-1"])';const a=!!navigator.userAgent.match("Chrome"),n=navigator.userAgent.match(/Safari/)&&!a,r=e=>e.children.length>2&&e.parentElement.classList.contains("n-carousel--endless"),s=e=>{e.style.height=0,e.style.overflow="auto";const t=e.scrollHeight;return e.style.height=e.style.overflow="",t},o=e=>1*(y(e)?e.dataset.y:e.dataset.x),i=e=>{let t=e.querySelector(":scope > [aria-current]");if(t)return[...e.children].indexOf(t);{let t=location.hash?[...e.children].indexOf(e.querySelector(`:scope > ${location.hash}`)):0;return t>-1?t:0}},d=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},c=e=>"rtl"===getComputedStyle(e).direction,u=e=>{(e=e.closest(".n-carousel")).querySelector(":scope > .n-carousel__content");const t=()=>{document.webkitIsFullScreen||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",t))};document.fullscreen||document.webkitIsFullScreen?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen(),n&&setTimeout((()=>{e.style.display="none",window.requestAnimationFrame((()=>{e.style.display=""}))}),0)):(n&&(e.nuiAncestors=(e=>{let t=[],l=d(e);for(;l&&void 0!==l.scrollLeft&&(0!==l.scrollTop||0!==l.scrollLeft);)t.push(l),l=d(l);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",t,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen())},h=e=>e.scrollLeft,p=(e,t,l)=>{e.scrollTo(c(e)?-1*Math.abs(t):t,l)},m=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:h(e),y:e.scrollTop},y=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),g=e=>e.parentNode.matches(".n-carousel--auto-height"),f=(e,t)=>{let l=document.querySelector(`${t}[data-for="${e.id}"]`);if(l)return l;for(let l of e.children){if(l.matches(t))return l;if(!l.matches(".n-carousel__content")&&l.querySelector(t))return l.querySelector(t)}},w=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),x=(e,t,l,a,n=!1)=>new Promise(((r,s)=>{let o=e.closest(".n-carousel");if(o.nextSlideInstant||!o.dataset.ready||window.matchMedia("(prefers-reduced-motion: reduce)").matches||o.matches(".n-carousel--instant"))return p(e,m(e).x+t,m(e).y+l),e.style.height=`${a}px`,delete o.nextSlideInstant,v(e),void r(e);O(e);let i=!0;0===t&&0===l&&(i=!1),a?e.style.height=`${n}px`:y(e)||(e.style.height="");var d=m(e).x,c=m(e).y,u=parseInt(e.style.height),h=a-u,g=1e3*parseFloat(e.parentNode.dataset.duration)||500,f=null;let w=n=>{if(n-f>=g)return p(e,d+t,c+l),a&&(e.style.height=`${a}px`),v(e),void r(e);var s,o=(s=(n-f)/g,(1-Math.cos(Math.PI*s))/2);i&&p(e,d+t*o,c+l*o),a&&window.requestAnimationFrame((()=>{e.style.height=`${u+h*o}px`})),requestAnimationFrame(w)};requestAnimationFrame((e=>{(f=e)+g,w(e)}))})),v=(a,n=!1)=>{O(a);let d=a.dataset.x,c=a.dataset.y;a.dataset.x=Math.abs(Math.round(h(a)/e(a.firstElementChild))),a.dataset.y=Math.abs(Math.round(a.scrollTop/t(a.firstElementChild))),"NaN"===a.dataset.x&&(a.dataset.x=0),"NaN"===a.dataset.y&&(a.dataset.y=0);let u=o(a);u>=a.children.length&&(u=a.children.length-1);let m=a.querySelector(":scope > [aria-current]"),w=a.parentElement;w.classList.contains("n-carousel--auto-height")||(a.style.height="");let x=a.children[u];if(m&&!n){if(x===m)return a.dataset.x=d,a.dataset.y=c,void H(a);m.removeAttribute("aria-current"),m.style.height="",y(a)||(a.style.height="")}var v=u;x.setAttribute("aria-current",!0),v=i(a),a.dataset.x=a.dataset.y=v;const S=e=>{e.querySelectorAll(":scope > [data-first]").forEach((t=>{e.append(e.firstElementChild),delete t.dataset.first,u--})),e.querySelectorAll(":scope > [data-last]").forEach((t=>{e.prepend(e.lastElementChild),delete t.dataset.last,u++}))};r(a)?(0===u?x.dataset.first?(delete a.firstElementChild.dataset.first,a.append(a.firstElementChild),a.firstElementChild.dataset.last=!0,a.append(a.firstElementChild),v=a.children.length-1,u=a.children.length-2):(a.lastElementChild.dataset.last?(delete a.lastElementChild.dataset.last,v=1):a.lastElementChild.dataset.first=!0,a.prepend(a.lastElementChild),u=1):u===a.children.length-1?x.dataset.last?(delete a.lastElementChild.dataset.last,a.prepend(a.lastElementChild),a.lastElementChild.dataset.first=!0,a.prepend(a.lastElementChild),v=0,u=1):(a.firstElementChild.dataset.first?(delete a.firstElementChild.dataset.first,v=a.children.length-2):a.firstElementChild.dataset.last=!0,a.append(a.firstElementChild),u=a.children.length-2):(S(a),v=Math.max(0,[...a.children].indexOf(a.querySelector(":scope > [aria-current]")))),p(a,e(a.firstElementChild)*u,t(a.firstElementChild)*u),a.dataset.x=a.dataset.y=v):(S(a),v=Math.max(0,[...a.children].indexOf(a.querySelector(":scope > [aria-current]")))),x.style.height="",a.style.setProperty("--height",`${a.parentNode.classList.contains("n-carousel--auto-height")?s(x):x.scrollHeight}px`),window.requestAnimationFrame((()=>{!a.parentNode.dataset.ready&&g(a)&&y(a)&&(a.style.height=parseFloat(getComputedStyle(a).height)-(e=>2*parseInt(getComputedStyle(e).paddingBlockStart))(a)+"px")}));let C=f(a.closest(".n-carousel"),".n-carousel__index");C&&(C.querySelector("[aria-current]")?.removeAttribute("aria-current"),C.children[v].setAttribute("aria-current",!0));let E=x.id;a.parentNode.dataset.ready&&E&&!a.parentNode.closest(".n-carousel__content")&&(location.hash=`#${E}`),a.parentNode.dataset.ready&&!E&&!a.parentNode.closest(".n-carousel__content")&&window.nCarouselNav&&(location.hash=""),[...a.children].forEach((e=>{e!==x&&e.querySelectorAll(l).forEach((e=>{e.closest(".n-carousel__content > :not([aria-current])")&&(e.getAttribute("tabindex")&&!e.dataset.focusDisabled&&(e.dataset.oldTabIndex=e.tabIndex),e.dataset.focusDisabled=!0,e.tabIndex=-1)}))})),x.querySelectorAll("[data-focus-disabled]").forEach((e=>{e.closest(".n-carousel__content > :not([aria-current])")||(e.removeAttribute("tabindex"),delete e.dataset.focusDisabled,e.dataset.oldTabIndex&&(e.tabIndex=e.dataset.oldTabIndex,delete e.dataset.oldTabIndex))})),/--vertical.*--auto-height/.test(w.classList)&&(a.scrollTop=a.offsetHeight*v),window.requestAnimationFrame((()=>{H(a)}))};var S,C,E;const b=l=>{let a=l.target;h(a),e(a.firstElementChild),a.scrollTop,t(a.firstElementChild);clearTimeout(S),C=h(a),E=a.scrollTop,S=setTimeout((()=>{let l=h(a)%e(a.firstElementChild),r=a.scrollTop%t(a.firstElementChild),o=Math.abs(Math.round(h(a)/e(a.firstElementChild))),i=Math.abs(Math.round(a.scrollTop/t(a.firstElementChild)));if("ontouchstart"in window||0===l&&0===r){if("ontouchstart"in window&&h(a)===a.scrollWidth-a.offsetWidth&&l===a.firstElementChild.offsetWidth-1&&(l=0),C===h(a)&&E===a.scrollTop&&0===l&&0===r)if(g(a)){O(a);let e,t=parseFloat(getComputedStyle(a).height),l=0;if(y(a)){let t=a.children[i],n=a.scrollTop;t.style.height="auto",e=t.scrollHeight,t.style.height="",a.scrollTop=n,l=i*e-a.scrollTop}else e=s(a.children[o]),p(a,C,E);t===e&&(e=!1),a.parentNode.dataset.sliding=!0,window.requestAnimationFrame((()=>{x(a,0,l,e,t)}))}else v(a)}else{g(a);n&&!a.tabbing||F(a,y(a)?i:o)}}),166)},q=(e,t=0,l=0,a)=>{if(clearTimeout(e.nCarouselTimeout),O(e),!e.parentNode.dataset.sliding){e.parentNode.dataset.sliding=!0;let n=e.children[i(e)].clientHeight,r=n;if(g(e)){let t=h(e),l=e.scrollTop,n=e.children[a];if(y(e))n.style.height="auto",r=n.scrollHeight,n.style.height="";else{r=s(n);let t=i(e)===a?r:s(e.children[i(e)]);e.style.setProperty("--height",`${t}px`)}p(e,t+(e=>2*parseInt(getComputedStyle(e).paddingInlineStart))(e)/2,l),p(e,t,l)}y(e)&&(l=l-a*n+a*r),window.requestAnimationFrame((()=>{x(e,t,l,r!==n&&r,n)}))}},_=e=>{let t=i(e);F(e,t>=e.children.length-1?0:t+1)},A=e=>{let t=i(e);F(e,0===t?e.children.length-1:t-1)},F=(e,l)=>{if(y(e))q(e,0,t(e.children[l])*l-e.scrollTop,l);else{let t=Math.ceil(parseFloat(getComputedStyle(e.children[l]).width)),a=c(e)?Math.abs(h(e))-t*l:t*l-h(e);q(e,a,0,l)}},N=e=>{console.log("keydown",e)},T=e=>A(w(e.target.closest('[class*="n-carousel"]'))),I=e=>_(w(e.target.closest('[class*="n-carousel"]'))),k=e=>{let t=e.target.closest("a, button");if(t&&(!t.href||!e.ctrlKey&&!e.metaKey)){const e=document.getElementById(t.parentNode.dataset.for)||t.closest(".n-carousel"),n=e.querySelector(":scope > .n-carousel__content");let s=[...t.parentNode.children].indexOf(t);if(r(n)){var a=o(n);0===a&&(s===n.children.length-1?s=0:s++),a===n.children.length-1&&(0===s?s=n.children.length-1:s--)}return e.classList.contains("n-carousel--inline")&&!e.classList.contains("n-carousel--overlay")&&(e.nextSlideInstant=!0,e.classList.add("n-carousel--overlay"),n.dataset.x=n.dataset.y=s,p(n,n.offsetWidth*n.dataset.x,n.offsetHeight*n.dataset.y),document.body.dataset.frozen=document.body.scrollTop,(e=>{const t=e.querySelectorAll(l)[0],a=e.querySelectorAll(l),n=a[a.length-1];document.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===t&&(n.focus(),e.preventDefault()):document.activeElement===n&&(t.focus(),e.preventDefault()))})),t.focus()})(e)),window.requestAnimationFrame((()=>{F(n,s)})),!1}},L=e=>{(document.fullscreen||document.webkitIsFullScreen)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen());let t=e.closest(".n-carousel");t&&(t.classList.remove("n-carousel--overlay"),delete document.body.dataset.frozen)},M=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target.closest(".n-carousel__content > *"),l=t.closest(".n-carousel__content");t.parentNode.ariaCurrent&&!l.parentNode.dataset.sliding&&(t.style.height="auto",l.style.height=`${t.scrollHeight}px`,t.style.height="")}))}))})),$=l=>{if(!l.parentNode.dataset.sliding){let a=l;a.style.padding="",a.style.removeProperty("--peek-int"),a.style.padding=y(a)?`${parseInt(getComputedStyle(a).paddingBlockStart)}px 0`:`0 ${parseInt(getComputedStyle(a).paddingInlineStart)}px`,"0px"===a.style.padding?a.style.padding="":a.style.setProperty("--peek-int",y(a)?`${parseInt(getComputedStyle(a).paddingBlockStart)}px 0 0 0`:`0 ${parseInt(getComputedStyle(a).paddingInlineStart)}px 0 0`),window.requestAnimationFrame((()=>{y(l)?a.style.setProperty("--subpixel-compensation",Math.ceil(a.getBoundingClientRect().height)-a.getBoundingClientRect().height):a.style.setProperty("--subpixel-compensation",Math.ceil(a.getBoundingClientRect().width)-a.getBoundingClientRect().width);let n=i(a);p(a,n*e(a.firstElementChild),n*t(a.firstElementChild))}))}},H=e=>{delete e.parentNode.dataset.sliding,window.requestAnimationFrame((()=>{e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")?D.observe(e.parentNode):D.unobserve(e.parentNode),e.addEventListener("scroll",b,{passive:!0}),B.observe(e),R.observe(e.parentNode,{attributes:!0,attributeFilter:["class"]})}))},O=e=>{e.removeEventListener("scroll",b),D.unobserve(e.parentNode),B.unobserve(e),e.observerStarted=!0},P=e=>{O(e);const t=e=>{$(e),window.requestAnimationFrame((()=>{let t=e.querySelector(":scope > [aria-current]").scrollHeight+"px";t!==getComputedStyle(e).getPropertyValue("--height")&&e.style.setProperty("--height",t),H(e)}))};t(e),e.querySelectorAll(".n-carousel__content").forEach((e=>t(e)))},B=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;t.observerStarted?t.observerStarted=!1:P(t)}))}))})),R=new MutationObserver((e=>{for(let t of e)if(t.target&&!t.target.nextSlideInstant){let e=t.target.querySelector(":scope > .n-carousel__content");P(e),v(e,!0)}})),W=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},D=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;W(t)}))}))})),z=(l=document)=>{l.querySelectorAll(".n-carousel:not([data-ready])").forEach((l=>{const a=f(l,".n-carousel__previous"),r=f(l,".n-carousel__next"),s=f(l,".n-carousel__index"),o=f(l,".n-carousel__close"),i=f(l,".n-carousel__full-screen");if(a&&(a.onclick=T),r&&(r.onclick=I),s&&(s.onclick=k),o&&(o.onclick=e=>L(e.target)),i){i.onclick=e=>{let t=e.target.closest(".n-carousel").querySelector(":scope > .n-carousel__content");t.dataset.xx=t.dataset.x,t.dataset.yy=t.dataset.y,u(e.target)};const a=l=>{let a=l.target.querySelector(":scope > .n-carousel__content");window.requestAnimationFrame((()=>{v(a),a.dataset.x=a.dataset.xx,a.dataset.y=a.dataset.yy,delete a.dataset.xx,delete a.dataset.yy,"undefined"!==a.dataset.x&&"undefined"!==a.dataset.y&&p(a,a.dataset.x*e(a.children[a.dataset.x]),a.dataset.y*t(a.children[a.dataset.y]))}))};n?l.onwebkitfullscreenchange=a:l.onfullscreenchange=a}let d=l.querySelector(":scope > .n-carousel__content");d.addEventListener("keydown",N),l.addEventListener("keyup",(e=>{if("Escape"===e.key){let t=e.target;t.closest(".n-carousel--overlay")||(t=document.querySelector(".n-carousel--overlay")),t&&L(t)}})),$(d),d.observerStarted=!0;let c=!!location.hash&&d.querySelector(":scope > "+location.hash);if(c){let e=[...c.parentNode.children].indexOf(c);y(d)?d.dataset.y=e:d.dataset.x=e,window.nCarouselNav=[d,location.hash]}l.matches(".n-carousel--vertical.n-carousel--auto-height")&&(d.style.height="",d.style.height=getComputedStyle(d).height,l.dataset.ready=!0,d.scrollTop=0),l.matches(".n-carousel--vertical.n-carousel--auto-height")&&d.querySelectorAll(":scope > * > *").forEach((e=>M.observe(e))),window.requestAnimationFrame((()=>{if(H(d),l.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&W(l),v(d),l.dataset.ready=!0,l.matches(".n-carousel--auto-slide")){let e=(1e3*parseFloat(l.dataset.interval)||4e3)+(1e3*parseFloat(l.dataset.duration)||500),t=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(d)&&_(d),d.nCarouselTimeout=setTimeout(t,e)};d.nCarouselTimeout=setTimeout(t,1e3*parseFloat(l.dataset.interval)||4e3),d.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}l.dataset.platform=navigator.platform})),d.nCarouselUpdate=v;d.querySelectorAll(":scope > *").forEach((e=>{new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&console.log(e,e.target,"is intersecting")}))}),{threshold:.99,root:e.parentElement}).observe(e)}))}))};window.nCarouselInit=z,window.addEventListener("popstate",(e=>{if(location.hash){let e=document.querySelector(location.hash),t=e?.parentNode;t&&t.classList.contains("n-carousel__content")&&!t.parentNode.closest(".n-carousel__content")&&(n&&p(t,t.offsetWidth*t.dataset.x,t.offsetHeight*t.dataset.y),F(t,[...t.children].indexOf(e)),window.nCarouselNav=[t,location.hash])}else if(window.nCarouselNav){let e=window.nCarouselNav[0];delete window.nCarouselNav,n&&p(e,e.offsetWidth*e.dataset.x,e.offsetHeight*e.dataset.y),F(e,[...e.children].indexOf(e.querySelector(":scope > :not([id])")))}}));const X=()=>{"function"==typeof registerComponent?registerComponent("n-carousel",z):z()};"loading"!==document.readyState?X():document.addEventListener("DOMContentLoaded",X)}();