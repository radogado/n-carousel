!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height)),l='button, [href], input, select, textarea, details, summary, video, [tabindex]:not([tabindex="-1"])';const a=!!navigator.userAgent.match("Chrome"),s=navigator.userAgent.match(/Safari/)&&!a,n=e=>{e.style.height=0,e.style.overflow="auto";const t=e.scrollHeight;return e.style.height=e.style.overflow="",t},o=e=>1*(p(e)?e.dataset.y:e.dataset.x),r=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},i=e=>"rtl"===getComputedStyle(e).direction,c=e=>{(e=e.closest(".n-carousel")).querySelector(":scope > .n-carousel__content");const t=()=>{document.webkitIsFullScreen||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",t))};document.fullscreen||document.webkitIsFullScreen?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen(),s&&setTimeout((()=>{e.style.display="none",window.requestAnimationFrame((()=>{e.style.display=""}))}),0)):(s&&(e.nuiAncestors=(e=>{let t=[],l=r(e);for(;l&&void 0!==l.scrollLeft&&(0!==l.scrollTop||0!==l.scrollLeft);)t.push(l),l=r(l);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",t,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen())},d=e=>e.scrollLeft,u=(e,t,l)=>{e.scrollTo(i(e)?-1*Math.abs(t):t,l)},h=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:d(e),y:e.scrollTop},p=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),m=e=>e.parentNode.matches(".n-carousel--auto-height"),y=e=>{delete e.parentNode.dataset.sliding,window.requestAnimationFrame((()=>{e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&$.observe(e.parentNode),e.addEventListener("scroll",E,{passive:!0})}))},g=e=>{e.removeEventListener("scroll",E),$.disconnect()},f=(e,t)=>{let l=document.querySelector(`${t}[data-for="${e.id}"]`);if(l)return l;for(let l of e.children){if(l.matches(t))return l;if(!l.matches(".n-carousel__content")&&l.querySelector(t))return l.querySelector(t)}},w=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),b=(e,t,l,a,s=!1)=>new Promise(((n,o)=>{let r=e.closest(".n-carousel");if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||r.matches(".n-carousel--instant")||r.nextSlideInstant)return u(e,h(e).x+t,h(e).y+l),e.style.height=`${a}px`,delete r.nextSlideInstant,x(e),void n(e);H.disconnect();let i=!0;0===t&&0===l&&(i=!1),a?e.style.height=`${s}px`:p(e)||(e.style.height="");var c=!1,d=h(e).x,m=h(e).y,y=parseInt(e.style.height),g=a-y,f=1e3*parseFloat(e.parentNode.dataset.duration)||500,w=null;let b=s=>{if(c)return u(e,d+t,m+l),a&&(e.style.height=`${a}px`),H.observe(e.parentNode),R.observe(e.parentNode,{attributes:!0,attributeFilter:["class"]}),void window.requestAnimationFrame((()=>{x(e),n(e)}));s-w>=f&&(c=!0);var o,r=(o=(s-w)/f,(1-Math.cos(Math.PI*o))/2);i&&u(e,d+t*r,m+l*r),a&&window.requestAnimationFrame((()=>{e.style.height=`${y+g*r}px`})),requestAnimationFrame(b)};requestAnimationFrame((e=>{(w=e)+f,b(e)}))})),x=a=>{let s=getComputedStyle(a).height;g(a),a.dataset.x=Math.abs(Math.round(d(a)/e(a.children[0]))),a.dataset.y=Math.abs(Math.round(a.scrollTop/t(a.children[0]))),"NaN"===a.dataset.x&&(a.dataset.x=0),"NaN"===a.dataset.y&&(a.dataset.y=0);let n=o(a);n>=a.children.length&&(n=a.children.length-1);let r=a.querySelector(":scope > [data-active]");a.parentElement.classList.contains("n-carousel--auto-height")||(a.style.height="");let i=a.children[n];if(a.children.length>2&&a.parentElement.classList.contains("n-carousel--endless"))if(0===n)i.dataset.first?(delete a.firstElementChild.dataset.first,a.append(a.firstElementChild),a.firstElementChild.dataset.last=!0,a.append(a.firstElementChild)):(a.lastElementChild.dataset.first=!0,a.prepend(a.lastElementChild));else if(n===a.children.length-1)i.dataset.last?(delete a.lastElementChild.dataset.last,a.prepend(a.lastElementChild),a.lastElementChild.dataset.first=!0,a.prepend(a.lastElementChild)):(a.firstElementChild.dataset.last=!0,a.append(a.firstElementChild));else{let e=a.querySelector(":scope > [data-first][data-last]");e&&(delete e.dataset.first,delete e.dataset.last)}if(r){if(i===r)return void y(a);delete r.dataset.active,r.style.height="",p(a)||(a.style.height="")}i.dataset.active=!0,i.style.height="",a.style.setProperty("--height",s),window.requestAnimationFrame((()=>{!a.parentNode.dataset.ready&&m(a)&&p(a)&&(a.style.height=parseFloat(getComputedStyle(a).height)-(e=>2*parseInt(getComputedStyle(e).paddingBlockStart))(a)+"px")}));let c=f(a.closest(".n-carousel"),".n-carousel__index");c&&!a.parentNode.classList.contains("n-carousel--inline")&&(c.querySelector("[disabled]")&&(c.querySelector("[disabled]").disabled=!1),c.children[n].disabled=!0),y(a);let u=i.id;u&&(location.hash=`#${u}`),[...a.children].forEach((e=>{e!==i&&e.querySelectorAll(l).forEach((e=>{e.closest(".n-carousel__content > :not([data-active])")&&(e.getAttribute("tabindex")&&!e.dataset.focusDisabled&&(e.dataset.oldTabIndex=e.tabIndex),e.dataset.focusDisabled=!0,e.tabIndex=-1)}))})),i.querySelectorAll("[data-focus-disabled]").forEach((e=>{e.closest(".n-carousel__content > :not([data-active])")||(e.removeAttribute("tabindex"),delete e.dataset.focusDisabled,e.dataset.oldTabIndex&&(e.tabIndex=e.dataset.oldTabIndex,delete e.dataset.oldTabIndex))}))};var v,S,C;const E=l=>{let a=l.target;d(a),e(a.children[0]),a.scrollTop,t(a.children[0]);clearTimeout(v),S=d(a),C=a.scrollTop,v=setTimeout((()=>{let l=d(a)%e(a.children[0]),o=a.scrollTop%t(a.children[0]),r=Math.abs(Math.round(d(a)/e(a.children[0]))),i=Math.abs(Math.round(a.scrollTop/t(a.children[0])));if("ontouchstart"in window||0===l&&0===o){if("ontouchstart"in window&&d(a)===a.scrollWidth-a.offsetWidth&&l===a.children[0].offsetWidth-1&&(l=0),S===d(a)&&C===a.scrollTop&&0===l&&0===o)if(m(a)){g(a);let e,t=parseFloat(getComputedStyle(a).height),l=0;p(a)?(e=a.children[i].children[0].scrollHeight,l=i*e-a.scrollTop):(e=n(a.children[r]),u(a,S,C)),t===e&&(e=!1),a.parentNode.dataset.sliding=!0,window.requestAnimationFrame((()=>{b(a,0,l,e,t)}))}else x(a)}else{x(a);s&&!a.tabbing||A(a,p(a)?i:r)}}),166)},q=(e,t,l,a)=>{if(clearTimeout(e.nCarouselTimeout),g(e),!e.parentNode.dataset.sliding){e.parentNode.dataset.sliding=!0;let s=e.children[o(e)].clientHeight,r=s,i=0;if(m(e)){let t=d(e),l=e.scrollTop;if(p(e))r=e.children[a].firstElementChild.scrollHeight;else{r=n(e.children[a]);let t=parseInt(e.dataset.x)===a?r:n(e.children[e.dataset.x]);e.style.setProperty("--height",`${t}px`)}u(e,t+(e=>2*parseInt(getComputedStyle(e).paddingInlineStart))(e)/2,l),u(e,t,l)}p(e)&&(i=l-a*s+a*r),window.requestAnimationFrame((()=>{b(e,t,i,r!==s&&r,s)}))}},_=e=>{let t=o(e);A(e,t>=e.children.length-1?0:t+1)},F=e=>{let t=o(e);A(e,0===t?e.children.length-1:t-1)},A=(e,l)=>{if(p(e))q(e,0,t(e.children[l])*l-e.scrollTop,l);else{let t=Math.ceil(parseFloat(getComputedStyle(e.children[l]).width)),a=i(e)?Math.abs(d(e))-t*l:t*l-d(e);q(e,a,0,l)}},T=e=>{let t=e.target;if("Tab"===e.key){t.closest(".n-carousel__content").tabbing=!0}if(t.matches(".n-carousel__content")&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":i(t)?_(t):F(t);break;case"ArrowRight":i(t)?F(t):_(t);break;case"ArrowUp":case"PageUp":F(t);break;case"ArrowDown":case"PageDown":_(t);break;case"Home":A(t,0);break;case"End":A(t,t.children.length-1)}},k=e=>F(w(e.target.closest('[class*="n-carousel"]'))),N=e=>_(w(e.target.closest('[class*="n-carousel"]'))),L=e=>{let t=e.target.closest("button");if(t){const e=t.closest(".n-carousel");e.classList.contains("n-carousel--inline")&&!e.classList.contains("n-carousel--overlay")&&(e.classList.add("n-carousel--overlay"),document.body.dataset.frozen=document.body.scrollTop,(e=>{const t=e.querySelectorAll(l)[0],a=e.querySelectorAll(l),s=a[a.length-1];document.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===t&&(s.focus(),e.preventDefault()):document.activeElement===s&&(t.focus(),e.preventDefault()))})),t.focus()})(e)),window.requestAnimationFrame((()=>{A(w(t),[...t.parentNode.children].indexOf(t))}))}},I=e=>{(document.fullscreen||document.webkitIsFullScreen)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen());let t=e.target.closest(".n-carousel");t&&(t.classList.remove("n-carousel--overlay"),delete document.body.dataset.frozen)},M=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target,l=t.closest(".n-carousel__content");t.parentNode.dataset.active&&!l.parentNode.dataset.sliding&&(l.style.height=`${t.scrollHeight}px`)}))}))})),P=l=>{(l=>{if(l.matches(".n-carousel--auto-height")&&l.parentNode.dataset.sliding)return;let a=l.querySelector(":scope > .n-carousel__content");if(a.style.setProperty("--subpixel-compensation-peeking",0),a.style.setProperty("--subpixel-compensation",0),p(l)){let e=a.firstElementChild.getBoundingClientRect().y-a.getBoundingClientRect().y;a.style.setProperty("--subpixel-compensation-peeking",Math.ceil(e)-e),a.style.setProperty("--subpixel-compensation",t(a)-parseFloat(getComputedStyle(a).height))}else{let t=a.firstElementChild.getBoundingClientRect().x-a.getBoundingClientRect().x;a.style.setProperty("--subpixel-compensation-peeking",Math.ceil(t)-t),a.style.setProperty("--subpixel-compensation",e(a.firstElementChild)-parseFloat(getComputedStyle(a.firstElementChild).width))}u(a,a.dataset.x*e(a.firstElementChild),a.dataset.y*t(a.firstElementChild))})(l);let a=(l=l.querySelector(":scope > .n-carousel__content")).querySelector(":scope > [data-active]").scrollHeight+"px";a!==getComputedStyle(l).getPropertyValue("--height")&&l.style.setProperty("--height",a)},H=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{P(e.target)}))}))})),R=new MutationObserver((e=>{for(let t of e)t.target&&P(t.target)})),D=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},$=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;D(t)}))}))})),B=(l=document)=>{l.querySelectorAll(".n-carousel:not([data-ready])").forEach((l=>{const a=f(l,".n-carousel__previous"),n=f(l,".n-carousel__next"),o=f(l,".n-carousel__index"),r=f(l,".n-carousel__close"),i=f(l,".n-carousel__full-screen");if(a&&(a.onclick=k),n&&(n.onclick=N),o&&(o.onclick=L),r&&(r.onclick=I),i){i.onclick=e=>{let t=e.target.closest(".n-carousel").querySelector(":scope > .n-carousel__content");t.dataset.xx=t.dataset.x,t.dataset.yy=t.dataset.y,c(e.target)};const a=l=>{let a=l.target.querySelector(":scope > .n-carousel__content");window.requestAnimationFrame((()=>{a.dataset.x=a.dataset.xx,a.dataset.y=a.dataset.yy,delete a.dataset.xx,delete a.dataset.yy,"undefined"!==a.dataset.x&&"undefined"!==a.dataset.y&&u(a,a.dataset.x*e(a.children[a.dataset.x]),a.dataset.y*t(a.children[a.dataset.y]))}))};s?l.onwebkitfullscreenchange=a:l.onfullscreenchange=a}l.querySelector(".n-carousel__content").onkeydown=T,l.parentNode.addEventListener("keyup",(e=>{"Escape"===e.key&&I(e)}));let d=l.querySelector(":scope > .n-carousel__content"),h=!!location.hash&&d.querySelector(":scope > "+location.hash);if(h){let e=[...h.parentNode.children].indexOf(h);p(d)?d.dataset.y=e:d.dataset.x=e,A(d,e)}l.matches(".n-carousel--vertical.n-carousel--auto-height")&&(d.style.height=getComputedStyle(d).height,l.dataset.ready=!0,d.scrollTop=0),l.matches(".n-carousel--vertical.n-carousel--auto-height")&&d.querySelectorAll(":scope > * > *").forEach((e=>M.observe(e))),window.requestAnimationFrame((()=>{if(H.observe(l),R.observe(l,{attributes:!0,attributeFilter:["class"]}),l.dataset.ready=!0,l.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&D(l),x(d),l.matches(".n-carousel--auto-slide")){let e=(1e3*parseFloat(l.dataset.interval)||4e3)+(1e3*parseFloat(l.dataset.duration)||500),t=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(d)&&_(d),d.nCarouselTimeout=setTimeout(t,e)};d.nCarouselTimeout=setTimeout(t,1e3*parseFloat(l.dataset.interval)||4e3),d.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}l.dataset.platform=navigator.platform})),d.nCarouselUpdate=x}))};window.nCarouselInit=B,"function"==typeof registerComponent?registerComponent("n-carousel",B):B()}();