let e="function"==typeof ResizeObserver,t=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l=t=>{t.classList.contains("n-carousel__vertical")||(e?T.observe(t):window.addEventListener("resize",v));t.scrollLeft,t.scrollTop;delete t.dataset.sliding,t.addEventListener("scroll",f)},s=t=>{e?T.unobserve(t):window.removeEventListener("resize",v),t.removeEventListener("scroll",f)},o=(e,l,s,o)=>new Promise((r,i)=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return e.scrollTo(t(e).x+l,t(e).y+s),e.style.height=`${o}px`,void r(e);var a=!1,n=t(e).x,c=t(e).y,d=parseInt(e.style.height),h=o-d,u=null;let f=t=>{if(a)r(e);else{t-u>=500&&(a=!0);var i=(e=>(1-Math.cos(Math.PI*e))/2)((t-u)/500),g=n+l*i,y=c+s*i;e.scrollTo(g,y),o&&window.requestAnimationFrame(()=>{e.style.height=`${d+h*i}px`}),requestAnimationFrame(f)}};requestAnimationFrame(e=>{(u=e)+500,f(e)})}),r=e=>2*parseInt(getComputedStyle(e).paddingInlineStart),i=e=>2*parseInt(getComputedStyle(e).paddingBlockStart),a=(e,t)=>{for(let l of e.children){if(l.matches(t))return l;if(!l.matches(".n-carousel--content")&&l.querySelector(t))return l.querySelector(t)}},n=e=>{s(e),e.dataset.x=Math.round(e.scrollLeft/(e.offsetWidth-r(e))),e.dataset.y=Math.round(e.scrollTop/(e.offsetHeight-i(e)));let t=e.classList.contains("n-carousel__vertical")?e.dataset.y:e.dataset.x;t>=e.children.length&&(t=e.children.length-1);let o=e.querySelector(":scope > [data-active]");if(o){if(e.children[t]===o)return void l(e);delete o.dataset.active,o.style.height=""}!e.parentNode.dataset.ready&&e.classList.contains("n-carousel__auto")&&window.requestAnimationFrame(()=>{e.style.height=`${e.offsetHeight-i(e)}px`}),e.children[t].dataset.active=!0,e.children[t].style.height="";let n=e.closest(".n-carousel"),c=a(n,".n-carousel--index");c.querySelector("[disabled]")&&(c.querySelector("[disabled]").disabled=!1),c.children[t].disabled=!0,a(n,".n-carousel--previous").disabled="0"===t,a(n,".n-carousel--next").disabled=t>=e.children.length-1,setTimeout(()=>l(e),66)};var c,d,h,u;let f=e=>{let t=e.target;t.dataset.sliding||(clearTimeout(c),d=t.scrollLeft,h=t.scrollTop,c=setTimeout(function(){if(d===t.scrollLeft&&h===t.scrollTop&&t.scrollLeft%(t.offsetWidth-r(t))==0&&t.scrollTop%(t.offsetHeight-i(t))==0)if(s(t),t.classList.contains("n-carousel__auto")){if(t.dataset.sliding=!0,t.classList.contains("n-carousel__vertical")){let s=Math.round(t.scrollTop/(t.offsetHeight-i(t)));t.children[s].style.height="auto";var e=t.children[s].scrollHeight;t.children[s].style.height="";var l=s*e-t.scrollTop}else{let s=Math.round(t.scrollLeft/(t.offsetWidth-r(t)));t.children[s].style.height="auto",t.children[s].style.position="absolute";e=t.children[s].scrollHeight;t.children[s].style.position=t.children[s].style.height="",t.scrollTo(d,h);l=0}o(t,0,l,e).then(e=>{setTimeout(()=>{n(t),delete t.dataset.sliding},66)})}else n(t)},66))},g=(e,t,l,i)=>{if(clearTimeout(e.nCarouselTimeout),s(e),!e.dataset.sliding){e.removeEventListener("scroll",f),e.dataset.sliding=!0;let l=e.children[e.dataset.y].clientHeight,s=l;if(e.classList.contains("n-carousel__auto")){let t=e.scrollLeft,l=e.scrollTop;e.classList.contains("n-carousel__vertical")?e.children[i].style.height="auto":(e.children[i].style.position="absolute",e.children[i].style.width=`${e.offsetWidth-r(e)}px`),s=e.children[i].scrollHeight,e.children[i].style.position=e.children[i].style.width=e.children[i].style.height="",e.scrollTo(t+r(e)/2,l),e.scrollTo(t,l)}let a=-1*(e.dataset.y*l-i*s);o(e,t,a,s!==l&&s).then(t=>{n(e)})}},y=e=>{let t=1*(e.classList.contains("n-carousel__vertical")?e.dataset.y:e.dataset.x);p(e,t>=e.children.length-1?0:t+1)},m=e=>{let t=1*(e.classList.contains("n-carousel__vertical")?e.dataset.y:e.dataset.x);p(e,0===t?e.children.length-1:t-1)},p=(e,t)=>{e.classList.contains("n-carousel__vertical")?g(e,0,(e.offsetHeight,i(e),e.scrollTop),t):g(e,(e.offsetWidth-r(e))*t-e.scrollLeft,0,t)},v=e=>{document.querySelectorAll(".n-carousel--content").forEach(e=>{clearTimeout(u),u=setTimeout(function(){e.scrollTo(e.offsetWidth*e.dataset.x-r(e),e.offsetHeight*e.dataset.y+i(e))},66)})};if(e)var T=new ResizeObserver(e=>{e.forEach(e=>{let t=e.target;t.dataset.sliding||(console.log("Resized",t,e.contentRect.width,e.contentRect.height),t.scrollTo(t.offsetWidth*t.dataset.x,t.offsetHeight*t.dataset.y),t.classList.contains("n-carousel__auto")&&(t.classList.contains("n-carousel__vertical")?t.style.height=`${t.children[t.dataset.y].scrollHeight}px`:t.style.height=`${t.children[t.dataset.x].scrollHeight}px`))})});let L=e=>{let t=e.target;if(t.classList.contains("n-carousel--content")&&["ArrowLeft","ArrowRight","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":m(t);break;case"ArrowRight":y(t);break;case"ArrowUp":m(t);break;case"ArrowDown":y(t);break;case"Home":p(t,0);break;case"End":p(t,t.children.length-1)}},w=e=>e.closest(".n-carousel").querySelector(".n-carousel--content"),_=e=>m(w(e.target)),x=e=>y(w(e.target)),b=e=>{let t=e.target;"BUTTON"===t.tagName&&p(w(t),[...t.parentNode.children].indexOf(t))};document.querySelectorAll(".n-carousel:not([data-ready])").forEach(e=>{a(e,".n-carousel--previous").onclick=_,a(e,".n-carousel--next").onclick=x,a(e,".n-carousel--index").onclick=b,e.querySelector(".n-carousel--content").onkeydown=L;let t=e.querySelector(":scope > .n-carousel--content");if(t.tabIndex=0,n(t),window.requestAnimationFrame(()=>{e.dataset.ready=!0}),l(t),t.addEventListener("scroll",f),t.classList.contains("n-carousel--auto-slide")){let e=()=>{y(t),t.nCarouselTimeout=setTimeout(e,2e3)};t.nCarouselTimeout=setTimeout(e,2e3),t.addEventListener("pointerenter",e=>clearTimeout(e.target.nCarouselTimeout))}})