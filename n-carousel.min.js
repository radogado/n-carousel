!function(){const e=!!navigator.userAgent.match("Chrome"),t=(navigator.userAgent.match(/Safari/),e=>"rtl"===getComputedStyle(e).direction),o=e=>e.scrollLeft,l=(e,o,l)=>{e.scrollTo(t(e)?-1*Math.abs(o):o,l)},s=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:o(e),y:e.scrollTop},r=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),a=e=>e.parentNode.matches(".n-carousel--auto-height"),n=e=>{window.requestAnimationFrame((()=>{delete e.parentNode.dataset.sliding,e.addEventListener("scroll",v),e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&k.observe(e.parentNode)}))},i=e=>{e.removeEventListener("scroll",v),e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&k.unobserve(e.parentNode)},c=e=>2*parseInt(getComputedStyle(e).paddingInlineStart),d=e=>2*parseInt(getComputedStyle(e).paddingBlockStart),h=(e,t)=>{let o=document.querySelector(`${t}[data-for="${e.id}"]`);if(o)return o;for(let o of e.children){if(o.matches(t))return o;if(!o.matches(".n-carousel__content")&&o.querySelector(t))return o.querySelector(t)}},u=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),g=(e,t,o,a)=>new Promise(((n,i)=>{if(console.log("scrolling by: x ",t," y ",o," height ",a),window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.closest(".n-carousel").matches(".n-carousel--instant"))return l(e,s(e).x+t,s(e).y+o),e.style.height=`${a}px`,void n(e);N.unobserve(e.parentNode);let c=!0;0===t&&0===o&&(c=!1),a?e.style.height=getComputedStyle(e).height:r(e)||(e.style.height="");var d=!1,h=s(e).x,u=s(e).y,g=parseInt(e.style.height),p=a-g,m=1e3*parseFloat(e.parentNode.dataset.duration)||1e3,f=null;let y=s=>{if(d)return l(e,h+t,u+o),a&&(e.style.height=`${Math.ceil(a)}px`),n(e),void N.observe(e.parentNode);s-f>=m&&(d=!0);var r,i=(r=(s-f)/m,(1-Math.cos(Math.PI*r))/2);c&&l(e,h+t*i,u+o*i),a&&window.requestAnimationFrame((()=>{e.style.height=`${g+p*i}px`})),requestAnimationFrame(y)};requestAnimationFrame((e=>{(f=e)+m,y(e)}))})),p=e=>{i(e),delete e.dataset.touchend,e.dataset.x=Math.abs(Math.round(o(e)/(e.offsetWidth-c(e)))),e.dataset.y=Math.abs(Math.round(e.scrollTop/(e.offsetHeight-d(e)))),console.log("updateCarousel",e.scrollTop,e.offsetHeight);let t=r(e)?e.dataset.y:e.dataset.x;t>=e.children.length&&(t=e.children.length-1),console.log("updateCarousel",o(e),"active",t);let l=e.querySelector(":scope > [data-active]");if(l){if(e.children[t]===l)return void n(e);delete l.dataset.active,l.style.height="",r(e)||(e.style.height="")}!e.parentNode.dataset.ready&&a(e)&&r(e)&&window.requestAnimationFrame((()=>{e.style.height=e.offsetHeight-d(e)+"px"})),e.children[t].dataset.active=!0,e.children[t].style.height="";let s=h(e.closest(".n-carousel"),".n-carousel__index");s&&(s.querySelector("[disabled]")&&(s.querySelector("[disabled]").disabled=!1),s.children[t].disabled=!0),n(e)};var m,f,y;const v=e=>{if(navigator.platform.match(/Win/))return console.log("scroll Windows",e),e.stopPropagation(),void e.preventDefault();let t=e.target;if(t.parentNode.dataset.sliding)return;let s=o(t)%(t.offsetWidth-c(t)),n=t.scrollTop%(t.offsetHeight-d(t));0===s&&0===n&&(clearTimeout(m),f=o(t),y=t.scrollTop,m=setTimeout((function(){let s=o(t)%(t.offsetWidth-c(t)),n=t.scrollTop%(t.offsetHeight-d(t));if(console.log("scrollStopped check",s,n),0!==s||0!==n){let e=Math.abs(Math.round(o(t)/(t.offsetWidth-c(t)))),l=Math.abs(Math.round(t.scrollTop/(t.offsetHeight-d(t))));return console.log("stuck",e,l),void x(t,r(t)?l:e)}if(f===o(t)&&y===t.scrollTop&&0===s&&0===n)if(console.log("Scrolling has stopped.",t,o(e.target),f,t.scrollTop,y),i(t),a(t)){let e,s=t.offsetHeight;if(r(t)){let o=Math.abs(Math.round(t.scrollTop/(t.offsetHeight-d(t))));t.children[o].style.height="auto",e=t.children[o].scrollHeight,t.children[o].style.height="";var h=o*e-t.scrollTop}else{t.style.height="";let s=Math.abs(Math.round(o(t)/(t.offsetWidth-c(t))));t.children[s].style.height="auto",t.classList.add("n-measure"),e=Math.max(t.children[s].scrollHeight,t.scrollHeight),t.classList.remove("n-measure"),t.children[s].style.height="",l(t,f,y);h=0}s===e&&(e=!1),console.log("scroll end new height",e),t.parentNode.dataset.sliding=!0,g(t,0,h,e).then((e=>{p(t),setTimeout((()=>{delete t.parentNode.dataset.sliding}),166)}))}else p(t),setTimeout((()=>{delete t.parentNode.dataset.sliding}),166)}),133))},w=(e,t,s,n)=>{if(clearTimeout(e.nCarouselTimeout),i(e),!e.parentNode.dataset.sliding){e.removeEventListener("scroll",v),e.parentNode.dataset.sliding=!0;let i=e.children[e.dataset.y].clientHeight,d=i;if(a(e)){let t=o(e),s=e.scrollTop;r(e)?(e.children[n].style.height="auto",d=e.children[n].scrollHeight):(e.children[n].style.width=e.offsetWidth-c(e)+"px",e.classList.add("n-measure"),d=Math.max(e.children[n].scrollHeight,e.scrollHeight),e.classList.remove("n-measure")),e.children[n].style.width=e.children[n].style.height="",l(e,t+c(e)/2,s),l(e,t,s)}let h=r(e)?s-n*i+n*d:0;g(e,t,h,d!==i&&Math.ceil(d)).then((t=>{p(e)}))}},_=e=>{let t=1*(r(e)?e.dataset.y:e.dataset.x);x(e,t>=e.children.length-1?0:t+1)},b=e=>{let t=1*(r(e)?e.dataset.y:e.dataset.x);x(e,0===t?e.children.length-1:t-1)},x=(e,l)=>{if(r(e))w(e,0,(e.offsetHeight-d(e))*l-e.scrollTop,l);else{let s=t(e)?Math.abs(o(e))-(e.offsetWidth-c(e))*l:(e.offsetWidth-c(e))*l-o(e);w(e,s,0,l)}},S=e=>{let o=e.target;if(o.matches(".n-carousel__content")&&["ArrowLeft","ArrowRight","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":t(o)?_(o):b(o);break;case"ArrowRight":t(o)?b(o):_(o);break;case"ArrowUp":b(o);break;case"ArrowDown":_(o);break;case"Home":x(o,0);break;case"End":x(o,o.children.length-1)}},T=e=>b(u(e.target.closest('[class*="n-carousel"]'))),q=e=>_(u(e.target.closest('[class*="n-carousel"]'))),H=e=>{let t=e.target.closest("button");t&&x(u(t),[...t.parentNode.children].indexOf(t))},M=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{console.log("resized: ",e.target);let t=e.target,o=t.closest(".n-carousel__content");t.parentNode.dataset.active&&!o.parentNode.dataset.sliding&&(o.style.height=`${t.scrollHeight}px`)}))}))})),N=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;if(t.matches(".n-carousel--auto-height")&&t.parentNode.dataset.sliding)return;let o=t.querySelector(":scope > .n-carousel__content");o.style.width="";let l=parseInt(getComputedStyle(o).paddingLeft),s=parseInt(getComputedStyle(o).paddingTop);o.style.padding=r(t)?`${s}px 0`:`0 ${l}px`,r(t)||(o.style.width=`${parseInt(getComputedStyle(o).width)}px`)}))}))})),F=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},k=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;F(t)}))}))}));document.querySelectorAll(".n-carousel:not([data-ready])").forEach((e=>{let t=h(e,".n-carousel__previous"),o=h(e,".n-carousel__next"),l=h(e,".n-carousel__index");t&&(t.onclick=T),o&&(o.onclick=q),l&&(l.onclick=H),e.querySelector(".n-carousel__content").onkeydown=S;let s=e.querySelector(":scope > .n-carousel__content");if(s.tabIndex=0,e.matches(".n-carousel--vertical.n-carousel--auto-height")&&(s.style.height=getComputedStyle(s).height,e.dataset.ready=!0,s.scrollTop=0),window.requestAnimationFrame((()=>{N.observe(e),e.dataset.ready=!0,e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&F(e),p(s),e.matches(".n-carousel--vertical.n-carousel--auto-height")&&s.querySelectorAll(":scope > * > *").forEach((e=>M.observe(e)))})),e.matches(".n-carousel--auto-slide")){let t=(1e3*parseFloat(e.dataset.interval)||4e3)+(1e3*parseFloat(e.dataset.duration)||1e3),o=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(s)&&_(s),s.nCarouselTimeout=setTimeout(o,t)};s.nCarouselTimeout=setTimeout(o,1e3*parseFloat(e.dataset.interval)||4e3),s.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}s.addEventListener("focusin",(e=>{e.target.closest(".n-carousel__content > *")}));const r=e=>{var t=!1;if(e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY&&(t=!0):0===e.deltaMode&&(t=!0),console.log(e),console.log(t?"Trackpad detected":"Mousewheel detected"),!t||navigator.platform.match(/Win/)){let t=e.target.closest(".n-carousel__content"),o=(e=>{for(e=e.parentNode;e;){if(e.scrollHeight>e.offsetHeight)return e;e=e.parentNode}return!1})(e.target);e.deltaY<0?o&&!o.matches(".n-carousel__content")&&0!==o.scrollTop||(e.preventDefault(),b(t)):o&&!o.matches(".n-carousel__content")&&o.scrollTop+o.offsetHeight!==o.scrollHeight||(e.preventDefault(),_(t))}};s.addEventListener("mousewheel",r,!1),s.addEventListener("DOMMouseScroll",r,!1);const a=e.querySelector(":scope > .n-carousel__full-screen button");a&&(a.onclick=e=>(e=>{e=e.closest(".n-carousel"),document.fullscreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()})(e.target))}))}();