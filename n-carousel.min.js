!function(){const e=e=>Math.ceil(parseFloat(getComputedStyle(e).width)),t=e=>Math.ceil(parseFloat(getComputedStyle(e).height)),l='button, [href], input, select, textarea, details, summary, video, [tabindex]:not([tabindex="-1"])';const r=!!navigator.userAgent.match("Chrome"),a=navigator.userAgent.match(/Safari/)&&!r,n=e=>e.children.length>2&&e.parentElement.classList.contains("n-carousel--endless"),o=()=>!(!document.webkitFullscreenElement&&!document.fullscreenElement),s=e=>e.closest(".n-carousel").classList.contains("n-carousel--overlay"),i=e=>e.closest(".n-carousel").matches(".n-carousel--vertical"),c=e=>e.closest(".n-carousel").matches(".n-carousel--auto-height"),d=e=>{let t=e.querySelectorAll(".n-carousel__control");return t.length>0?t:e.querySelectorAll("a, button")},u=e=>{e.style.height=0,e.style.overflow="auto";const t=e.scrollHeight;return e.style.height=e.style.overflow="",t},h=e=>1*(i(e)?e.dataset.y:e.dataset.x),p=e=>{let t=e.querySelector(":scope > [aria-current]");if(t)return[...e.children].indexOf(t);{let t=location.hash?[...e.children].indexOf(e.querySelector(`:scope > ${location.hash}`)):0;return t>-1?t:0}},m=e=>{for(e=e.parentNode;e;){if(0!==e.scrollTop||0!==e.scrollLeft)return e;e=e.parentNode}return!1},y=e=>"rtl"===getComputedStyle(e).direction,g=e=>{let t=(e=e.closest(".n-carousel")).querySelector(":scope > .n-carousel__content");const l=()=>{o()||(e.nuiAncestors.forEach((e=>{window.requestAnimationFrame((()=>{e.scrollLeft=e.nuiScrollX,e.scrollTop=e.nuiScrollY,delete e.nuiScrollX,delete e.nuiScrollY}))})),delete e.nuiAncestors,e.removeEventListener("webkitfullscreenchange",l))};if(t.togglingFullScreen=!0,o()){if(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen(),a&&setTimeout((()=>{e.style.display="none",window.requestAnimationFrame((()=>{e.style.display=""}))}),0),i(e)&&c(e)){let t=l=>{setTimeout((()=>{let t=e.querySelector(":scope > .n-carousel__content");T(t,parseInt(t.dataset.y))}),100),e.removeEventListener("fullscreenchange",t)};e.addEventListener("fullscreenchange",t)}}else a&&(e.nuiAncestors=(e=>{let t=[],l=m(e);for(;l&&void 0!==l.scrollLeft&&(0!==l.scrollTop||0!==l.scrollLeft);)t.push(l),l=m(l);return t})(e),e.nuiAncestors.forEach((e=>{e.nuiScrollX=e.scrollLeft,e.nuiScrollY=e.scrollTop})),e.addEventListener("webkitfullscreenchange",l,!1)),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()},f=e=>e.scrollLeft,w=(e,t,l)=>{e.scrollTo(y(e)?-1*Math.abs(t):t,l)},x=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:f(e),y:e.scrollTop};let S=null,v=null,C=null;const q=e=>{("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===S&&(C.focus(),e.preventDefault()):document.activeElement===C&&(S.focus(),e.preventDefault()))},E=(e,t=!1)=>{S=e.querySelectorAll(l)[0],v=e.querySelectorAll(l),C=v[v.length-1],t?e.removeEventListener("keydown",q):(e.addEventListener("keydown",q),S.focus())},_=(e,t)=>{let l=document.querySelector(`${t}[data-for="${e.id}"]`);if(l)return l;for(let l of e.children){if(l.matches(t))return l;if(!l.matches(".n-carousel__content")&&l.querySelector(t))return l.querySelector(t)}},b=e=>{var t=e.closest('[class*="n-carousel"]').dataset.for;return t?document.getElementById(t).querySelector(".n-carousel__content"):e.closest(".n-carousel").querySelector(".n-carousel__content")},A=(e,t,l,r,a=!1)=>new Promise(((n,o)=>{let s=e.closest(".n-carousel");if(s.nextSlideInstant||!s.dataset.ready||window.matchMedia("(prefers-reduced-motion: reduce)").matches||s.matches(".n-carousel--instant"))return w(e,x(e).x+t,x(e).y+l),e.style.height=`${r}px`,delete s.nextSlideInstant,F(e),void n(e);W(e);let d=!0;0===t&&0===l&&(d=!1),r?(e.style.height=`${a}px`,i(e)&&c(e)&&e.style.setProperty("--subpixel-compensation",0)):i(e)||(e.style.height="");var u=x(e).x,h=x(e).y,p=parseInt(e.style.height),m=r-p,y=1e3*parseFloat(e.parentNode.dataset.duration)||500,g=null;let f=a=>{if(a-g>=y)return window.requestAnimationFrame((()=>{w(e,u+t,h+l),r&&(e.style.height=`${r}px`),F(e)})),void n(e);var o,s=(o=(a-g)/y,(1-Math.cos(Math.PI*o))/2);d&&w(e,u+t*s,h+l*s),r&&window.requestAnimationFrame((()=>{e.style.height=`${p+m*s}px`})),requestAnimationFrame(f)};requestAnimationFrame((e=>{g=e,f(e)}))})),F=(l,r=!1)=>{W(l);let o=l.dataset.x,s=l.dataset.y;l.togglingFullScreen?delete l.togglingFullScreen:l.openingModal?(delete l.openingModal,w(l,l.offsetWidth*l.dataset.x,l.offsetHeight*l.dataset.y)):(l.dataset.x=Math.abs(Math.round(f(l)/e(l.firstElementChild))),l.dataset.y=Math.abs(Math.round(l.scrollTop/t(l.firstElementChild)))),"NaN"===l.dataset.x&&(l.dataset.x=0),"NaN"===l.dataset.y&&(l.dataset.y=0);let m=h(l);m>=l.children.length&&(m=l.children.length-1);let y=l.querySelector(":scope > [aria-current]"),g=l.parentElement;g.classList.contains("n-carousel--auto-height")||(l.style.height="");let x=l.children[m];if(y&&!r){if(x===y)return l.dataset.x=o,l.dataset.y=s,void D(l);y.removeAttribute("aria-current"),y.style.height="",i(l)||(l.style.height="")}var S=m;x.setAttribute("aria-current",!0),S=p(l),l.dataset.x=l.dataset.y=S;const v=e=>{e.querySelectorAll(":scope > [data-first]").forEach((t=>{e.append(e.firstElementChild),delete t.dataset.first,m--})),e.querySelectorAll(":scope > [data-last]").forEach((t=>{e.prepend(e.lastElementChild),delete t.dataset.last,m++}))};if(g.dataset.sliding=!0,n(l)?(0===m?x.dataset.first?(delete l.firstElementChild.dataset.first,l.append(l.firstElementChild),l.firstElementChild.dataset.last=!0,l.append(l.firstElementChild),S=l.children.length-1,m=l.children.length-2):(l.lastElementChild.dataset.last?(delete l.lastElementChild.dataset.last,S=1):l.lastElementChild.dataset.first=!0,l.prepend(l.lastElementChild),m=1):m===l.children.length-1?x.dataset.last?(delete l.lastElementChild.dataset.last,l.prepend(l.lastElementChild),l.lastElementChild.dataset.first=!0,l.prepend(l.lastElementChild),S=0,m=1):(l.firstElementChild.dataset.first?(delete l.firstElementChild.dataset.first,S=l.children.length-2):l.firstElementChild.dataset.last=!0,l.append(l.firstElementChild),m=l.children.length-2):(v(l),S=Math.max(0,[...l.children].indexOf(l.querySelector(":scope > [aria-current]")))),window.requestAnimationFrame((()=>{l.dataset.x=l.dataset.y=S;let r=e(l.firstElementChild)*m,a=t(l.firstElementChild)*m;l.scroll_x=r,l.scroll_y=a,w(l,r,a),delete l.scroll_x,delete l.scroll_y}))):(v(l),S=Math.max(0,[...l.children].indexOf(l.querySelector(":scope > [aria-current]")))),x.style.height="",g.style.setProperty("--height",`${l.parentNode.classList.contains("n-carousel--auto-height")?u(x):x.scrollHeight}px`),window.requestAnimationFrame((()=>{!l.parentNode.dataset.ready&&c(l)&&i(l)&&(l.style.height=parseFloat(getComputedStyle(l).height)-(e=>2*parseInt(getComputedStyle(e).paddingBlockStart))(l)+"px")})),"hidden"!==getComputedStyle(l).visibility){let e=document.activeElement,t=x.id;l.parentNode.dataset.ready&&t&&!l.parentNode.closest(".n-carousel__content")&&(location.hash=`#${t}`),l.parentNode.dataset.ready&&!t&&!l.parentNode.closest(".n-carousel__content")&&window.nCarouselNav&&(location.hash=""),e.focus()}let C=_(l.closest(".n-carousel"),".n-carousel__index");C&&(C.querySelector("[aria-current]")?.removeAttribute("aria-current"),d(C)[S].setAttribute("aria-current",!0)),[...l.children].forEach((e=>{if(e.inert=e!==x,a&&e.querySelector(".n-carousel:-webkit-full-screen")){let t=e.parentNode.querySelector(':scope > [aria-current="true"]');t.inert=!0,t.removeAttribute("aria-current"),e.inert=!1,e.setAttribute("aria-current",!0)}})),/--vertical.*--auto-height/.test(g.classList)&&(l.scrollTop=l.offsetHeight*S),window.requestAnimationFrame((()=>{D(l)}))},N=(e,t=0,l=0,r)=>{if(clearTimeout(e.nCarouselTimeout),W(e),!e.parentNode.dataset.sliding){e.parentNode.dataset.sliding=!0;let a=e.children[p(e)].offsetHeight,n=a;if(c(e)){let t=f(e),l=e.scrollTop,a=e.children[r];if(i(e)){a.style.height="auto";let t=getComputedStyle(e).maxHeight,l=t.match(/px/)?Math.ceil(parseFloat(t)):99999;n=Math.min(Math.ceil(parseFloat(getComputedStyle(a).height)),l),a.style.height=""}else{n=u(a);let t=p(e)===r?n:u(e.children[p(e)]);e.parentNode.style.setProperty("--height",`${t}px`)}w(e,t+(e=>2*parseInt(getComputedStyle(e).paddingInlineStart))(e)/2,l),w(e,t,l)}i(e)&&((s(e)||o())&&c(e)&&(a=n=e.offsetHeight),l=l-r*a+r*n),window.requestAnimationFrame((()=>{e.parentNode.dataset.duration||c(e)?A(e,t,l,n!==a&&n,a):(delete e.parentNode.dataset.sliding,e.dataset.next=r,e.scrollTo({top:e.scrollTop+l,left:e.scrollLeft+t,behavior:window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth"}))}))}},L=e=>{let t=p(e);T(e,t>=e.children.length-1?0:t+1)},k=e=>{let t=p(e);T(e,0===t?e.children.length-1:t-1)},T=(e,l)=>{if(i(e))N(e,0,t(e.children[l])*l-e.scrollTop,l);else{let t=Math.ceil(parseFloat(getComputedStyle(e.children[l]).width)),r=y(e)?Math.abs(f(e))-t*l:t*l-f(e);N(e,r,0,l)}},M=e=>{let t=e.target.closest(".n-carousel").querySelector(":scope > .n-carousel__content");if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key))switch(e.key){case"ArrowLeft":y(t)?L(t):k(t);break;case"ArrowRight":y(t)?k(t):L(t);break;case"ArrowUp":case"PageUp":k(t);break;case"ArrowDown":case"PageDown":L(t);break;case"Home":T(t,0);break;case"End":T(t,t.children.length-1)}},I=e=>k(b(e.target.closest('[class*="n-carousel"]'))),H=e=>L(b(e.target.closest('[class*="n-carousel"]'))),P=e=>{let t=e.target.closest("a, button");if(t&&(!t.href||!e.ctrlKey&&!e.metaKey)){const e=document.querySelector(`.n-carousel#${t.parentNode.dataset.for}`)||t.closest(".n-carousel"),r=e.querySelector(":scope > .n-carousel__content");let a=[...d(t.parentNode)].indexOf(t);if(n(r)){var l=h(r);0===l&&(a===r.children.length-1?a=0:a++),l===r.children.length-1&&(0===a?a=r.children.length-1:a--)}return e.classList.contains("n-carousel--inline")&&!s(r)?(e.nextSlideInstant=!0,O(r),window.requestAnimationFrame((()=>{r.dataset.x=r.dataset.y=a,w(r,r.offsetWidth*r.dataset.x,r.offsetHeight*r.dataset.y),document.body.dataset.frozen=document.body.scrollTop,F(r)}))):window.requestAnimationFrame((()=>{T(r,a)})),!1}},$=e=>{o()&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen());let t=b(e);t&&(t.closest(".n-carousel").classList.remove("n-carousel--overlay"),E(t.closest(".n-carousel"),!0),delete document.body.dataset.frozen)},O=e=>{let t=b(e);t&&(t.openingModal=!0,t.closest(".n-carousel").classList.add("n-carousel--overlay"),E(t.closest(".n-carousel")))},R=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target.querySelector(":scope > [aria-current]"),l=t.closest(".n-carousel__content");l.parentElement.dataset.sliding||(l.parentNode.style.removeProperty("--height"),i(l)?(t.style.height="auto",l.style.height=`${t.scrollHeight}px`,t.style.height="",F(l)):(l.style.height="",l.style.height=`${t.scrollHeight}px`,F(l,!0)))}))}))})),B=l=>{if(!l.parentNode.dataset.sliding){let r=l;r.style.padding="",r.style.removeProperty("--peek-int"),r.style.padding=i(r)?`${parseInt(getComputedStyle(r).paddingBlockStart)}px 0`:`0 ${parseInt(getComputedStyle(r).paddingInlineStart)}px`,"0px"===r.style.padding?r.style.padding="":r.style.setProperty("--peek-int",i(r)?`${parseInt(getComputedStyle(r).paddingBlockStart)}px 0 0 0`:`0 ${parseInt(getComputedStyle(r).paddingInlineStart)}px 0 0`),window.requestAnimationFrame((()=>{i(l)?r.style.setProperty("--subpixel-compensation",Math.ceil(r.getBoundingClientRect().height)-r.getBoundingClientRect().height):r.style.setProperty("--subpixel-compensation",Math.ceil(r.getBoundingClientRect().width)-r.getBoundingClientRect().width);let a=p(r);w(r,a*e(r.firstElementChild),a*t(r.firstElementChild))}))}},D=e=>{window.requestAnimationFrame((()=>{e.scroll_x&&e.scroll_y&&w(e,e.scroll_x,e.scroll_y),delete e.parentNode.dataset.sliding,e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")?K.observe(e.parentNode):K.unobserve(e.parentNode),U.observe(e),X.observe(e.parentNode,{attributes:!0,attributeFilter:["class"]})}))},W=e=>{K.unobserve(e.parentNode),U.unobserve(e),e.observerStarted=!0},z=e=>{W(e);const t=e=>{B(e),window.requestAnimationFrame((()=>{let t=e.querySelector(":scope > [aria-current]").scrollHeight+"px";t!==getComputedStyle(e).getPropertyValue("--height")&&e.parentNode.style.setProperty("--height",t),D(e)}))};t(e),e.querySelectorAll(".n-carousel__content").forEach((e=>t(e)))},U=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;t.observerStarted?t.observerStarted=!1:z(t)}))}))})),X=new MutationObserver((e=>{for(let t of e)if(t.target&&!t.target.nextSlideInstant){let e=t.target.querySelector(":scope > .n-carousel__content");z(e),F(e,!0)}})),Y=e=>{let t=e.querySelector(":scope > .n-carousel__index");t&&!e.dataset.sliding&&(e.style.removeProperty("--height-minus-index"),t.style.position="absolute",e.style.setProperty("--height-minus-index",`${e.offsetHeight}px`),e.style.setProperty("--index-width",getComputedStyle(e.querySelector(":scope > .n-carousel__index")).width),t.style.position="")},K=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{let t=e.target;Y(t)}))}))})),V=(l=document)=>{l.querySelectorAll(".n-carousel:not([data-ready])").forEach((l=>{const r=_(l,".n-carousel__previous"),n=_(l,".n-carousel__next"),d=_(l,".n-carousel__index"),h=_(l,".n-carousel__close"),p=_(l,".n-carousel__full-screen"),m=l.querySelector(":scope > .n-carousel__content");if(!m)return;if(r&&(r.onclick=I),n&&(n.onclick=H),d&&(d.onclick=P),h&&(h.onclick=e=>{e.target.closest(".n-carousel").classList.contains("n-carousel--overlay")?$(e.target):O(e.target)}),p){p.onclick=e=>{let t=e.target.closest(".n-carousel").querySelector(":scope > .n-carousel__content");t.dataset.xx=t.dataset.x,t.dataset.yy=t.dataset.y,g(e.target)};const r=l=>{let r=l.target.querySelector(":scope > .n-carousel__content");window.requestAnimationFrame((()=>{F(r),r.dataset.x=r.dataset.xx,r.dataset.y=r.dataset.yy,delete r.dataset.xx,delete r.dataset.yy,"undefined"!==r.dataset.x&&"undefined"!==r.dataset.y&&w(r,r.dataset.x*e(r.children[r.dataset.x]),r.dataset.y*t(r.children[r.dataset.y]))}))};a?l.onwebkitfullscreenchange=r:l.onfullscreenchange=r}l.addEventListener("keydown",M),l.addEventListener("keyup",(e=>{if("Escape"===e.key){let t=e.target;t.closest(".n-carousel--overlay")||(t=document.querySelector(".n-carousel--overlay")),t&&$(t)}})),B(m),m.observerStarted=!0;let y=!!location.hash&&m.querySelector(":scope > "+location.hash);if(y){l.classList.contains("n-carousel--inline")&&O(m);let e=[...y.parentNode.children].indexOf(y);i(m)?m.dataset.y=e:m.dataset.x=e,window.nCarouselNav=[m,location.hash]}l.matches(".n-carousel--vertical.n-carousel--auto-height")&&(m.style.height="",m.style.height=getComputedStyle(m).height,l.dataset.ready=!0,m.scrollTop=0),l.matches(".n-carousel--auto-height")&&R.observe(m),window.requestAnimationFrame((()=>{if(D(m),l.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside.n-carousel--auto-height")&&Y(l),F(m),l.dataset.ready=!0,l.matches(".n-carousel--auto-slide")){let e=(1e3*parseFloat(l.dataset.interval)||4e3)+(1e3*parseFloat(l.dataset.duration)||500),t=()=>{(function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.offsetHeight)&&t.right<=(window.innerWidth||document.documentElement.offsetWidth)})(m)&&L(m),m.nCarouselTimeout=setTimeout(t,e)};m.nCarouselTimeout=setTimeout(t,1e3*parseFloat(l.dataset.interval)||4e3),m.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}l.dataset.platform=navigator.platform})),m.nCarouselUpdate=F;if(m.querySelectorAll(":scope > *").forEach((e=>{const t=new IntersectionObserver((e=>{e.forEach((e=>{let t=e.target,l=t.parentNode;e.isIntersecting&&!l.parentNode.dataset.sliding&&"hidden"!==getComputedStyle(l).visibility&&((e,t)=>{if(e.dataset.next&&parseInt(e.dataset.next)!==[...e.children].indexOf(t))return;delete e.dataset.next,W(e),e.scrollLeft,e.scrollTop,timeout=setTimeout((()=>{let l=[...e.children].indexOf(t);if(c(e)){let r,a=parseFloat(getComputedStyle(e).height),n=0,c=e.scrollLeft,d=e.scrollTop;if(i(e)){let i=e.scrollTop;t.style.height="auto";let c=getComputedStyle(e).maxHeight,d=c.match(/px/)?Math.ceil(parseFloat(c)):99999;r=Math.min(Math.ceil(parseFloat(getComputedStyle(t).height)),d),(s(e)||o())&&(a=r=e.offsetHeight),t.style.height="",e.scrollTop=i,n=l*r-e.scrollTop}else r=u(t),c&&w(e,c,d);a===r&&(r=!1),e.parentNode.dataset.sliding=!0,window.requestAnimationFrame((()=>{A(e,0,n,r,a).then((()=>{}))}))}else window.requestAnimationFrame((()=>{F(e)}))}),10)})(l,t)}))}),{threshold:.996,root:e.parentElement});t.observe(e)})),l.matches(".n-carousel--lightbox")){let e=e=>{e.closest("picture").dataset.loaded=!0};m.querySelectorAll("picture img").forEach((t=>{t.complete?e(t):t.addEventListener("load",(t=>{e(t.target)}))}))}}))};window.nCarouselInit=V,window.addEventListener("popstate",(e=>{if(location.hash){let e=document.querySelector(location.hash),t=e?.parentNode;if(t&&t.classList.contains("n-carousel__content")&&!t.parentNode.closest(".n-carousel__content")){let l=document.querySelector(".n-carousel--overlay > .n-carousel__content");l&&l!==t&&$(l),t.parentNode.classList.contains("n-carousel--inline")&&$(t),a&&w(t,t.offsetWidth*t.dataset.x,t.offsetHeight*t.dataset.y),T(t,[...t.children].indexOf(e)),window.nCarouselNav=[t,location.hash]}}else if(window.nCarouselNav){let e=window.nCarouselNav[0];delete window.nCarouselNav,a&&w(e,e.offsetWidth*e.dataset.x,e.offsetHeight*e.dataset.y),T(e,[...e.children].indexOf(e.querySelector(":scope > :not([id])")))}}));const j=()=>{"undefined"!=typeof nui&&"function"==typeof nui.registerComponent?nui.registerComponent("n-carousel",V):V()};"loading"!==document.readyState?j():document.addEventListener("DOMContentLoaded",j)}();