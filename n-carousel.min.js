!function(){const e=!!navigator.userAgent.match("Chrome");navigator.userAgent.match(/Safari/);let t=e=>"rtl"===getComputedStyle(e).direction,s=e=>e.scrollLeft,o=(e,s,o)=>{e.scrollTo(t(e)?-1*Math.abs(s):s,o)},l=e=>e===window?{x:e.scrollX,y:e.scrollY}:{x:s(e),y:e.scrollTop},a=e=>e.closest(".n-carousel").classList.contains("n-carousel--vertical"),r=e=>e.parentNode.classList.contains("n-carousel--auto-height"),n=e=>{setTimeout((()=>{e.addEventListener("scroll",y),delete e.parentNode.dataset.sliding,e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside")&&q.observe(e.parentNode)}),66)},i=e=>{e.removeEventListener("scroll",y),e.parentNode.matches(".n-carousel--vertical.n-carousel--controls-outside")&&q.unobserve(e.parentNode)},c=(e,t,s,r)=>new Promise(((n,i)=>{if(console.log("scrolling by: x ",t," y ",s," height ",r),window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.closest(".n-carousel").classList.contains("n-carousel--instant"))return o(e,l(e).x+t,l(e).y+s),e.style.height=r+"px",void n(e);let c=!0;0===t&&0===s&&(c=!1),r?e.style.height=getComputedStyle(e).height:a(e)||(e.style.height="");var d=!1,h=l(e).x,u=l(e).y,g=parseInt(e.style.height),p=r-g,f=1e3*parseFloat(e.parentNode.dataset.duration)||1e3,m=null;let y=l=>{if(d)return o(e,h+t,u+s),r&&(e.style.height=Math.ceil(r)+"px"),n(e),void N.observe(e.parentNode);l-m>=f&&(d=!0);var a,i=(a=(l-m)/f,(1-Math.cos(Math.PI*a))/2);c&&o(e,h+t*i,u+s*i),r&&window.requestAnimationFrame((()=>{e.style.height=g+p*i+"px"})),requestAnimationFrame(y)};N.unobserve(e.parentNode),requestAnimationFrame((e=>{(m=e)+f,y(e)}))})),d=e=>2*parseInt(getComputedStyle(e).paddingInlineStart),h=e=>2*parseInt(getComputedStyle(e).paddingBlockStart),u=(e,t)=>{let s=document.querySelector(`${t}[data-for="${e.id}"]`);if(s)return s;for(let s of e.children){if(s.matches(t))return s;if(!s.matches(".n-carousel__content")&&s.querySelector(t))return s.querySelector(t)}},g=e=>{i(e),delete e.dataset.touchend,e.dataset.x=Math.abs(Math.round(s(e)/(e.offsetWidth-d(e)))),e.dataset.y=Math.abs(Math.round(e.scrollTop/(e.offsetHeight-h(e)))),console.log("updateCarousel",e.scrollTop,e.offsetHeight);let t=a(e)?e.dataset.y:e.dataset.x;t>=e.children.length&&(t=e.children.length-1),console.log("updateCarousel",s(e),"active",t);let o=e.querySelector(":scope > [data-active]");if(o){if(e.children[t]===o)return void n(e);delete o.dataset.active,o.style.height="",a(e)||(e.style.height="")}!e.parentNode.dataset.ready&&r(e)&&a(e)&&window.requestAnimationFrame((()=>{e.style.height=e.offsetHeight-h(e)+"px"})),e.children[t].dataset.active=!0,e.children[t].style.height="";let l=u(e.closest(".n-carousel"),".n-carousel__index");l&&(l.querySelector("[disabled]")&&(l.querySelector("[disabled]").disabled=!1),l.children[t].disabled=!0),n(e)};var p,f,m;let y=e=>{let t=e.target;if(t.parentNode.dataset.sliding)return;let l=s(t)%(t.offsetWidth-d(t)),n=t.scrollTop%(t.offsetHeight-h(t));0===l&&0===n&&(clearTimeout(p),f=s(t),m=t.scrollTop,p=setTimeout((function(){let l=s(t)%(t.offsetWidth-d(t)),n=t.scrollTop%(t.offsetHeight-h(t));if(console.log("scrollStopped check",l,n),0!==l||0!==n){let e=Math.abs(Math.round(s(t)/(t.offsetWidth-d(t)))),o=Math.abs(Math.round(t.scrollTop/(t.offsetHeight-h(t))));return console.log("stuck",e,o),void T(t,a(t)?o:e)}if(f===s(t)&&m===t.scrollTop&&0===l&&0===n)if(console.log("Scrolling has stopped.",t,s(e.target),f,t.scrollTop,m),i(t),r(t)){let e,l=t.offsetHeight;if(a(t)){let s=Math.abs(Math.round(t.scrollTop/(t.offsetHeight-h(t))));t.children[s].style.height="auto",e=t.children[s].scrollHeight,t.children[s].style.height="";var u=s*e-t.scrollTop}else{t.style.height="";let l=Math.abs(Math.round(s(t)/(t.offsetWidth-d(t))));t.children[l].style.height="auto",t.classList.add("n-measure"),e=Math.max(t.children[l].scrollHeight,t.scrollHeight),t.classList.remove("n-measure"),t.children[l].style.height="",o(t,f,m);u=0}l===e&&(e=!1),console.log("scroll end new height",e),t.parentNode.dataset.sliding=!0,c(t,0,u,e).then((e=>{g(t),setTimeout((()=>{delete t.parentNode.dataset.sliding}),166)}))}else g(t),setTimeout((()=>{delete t.parentNode.dataset.sliding}),166)}),133))},v=(e,t,l,n)=>{if(clearTimeout(e.nCarouselTimeout),i(e),!e.parentNode.dataset.sliding){e.removeEventListener("scroll",y),e.parentNode.dataset.sliding=!0;let i=e.children[e.dataset.y].clientHeight,h=i;if(r(e)){let t=s(e),l=e.scrollTop;a(e)?(e.children[n].style.height="auto",h=e.children[n].scrollHeight):(e.children[n].style.width=e.offsetWidth-d(e)+"px",e.classList.add("n-measure"),h=Math.max(e.children[n].scrollHeight,e.scrollHeight),e.classList.remove("n-measure")),e.children[n].style.width=e.children[n].style.height="",o(e,t+d(e)/2,l),o(e,t,l)}let u=a(e)?l-n*i+n*h:0;c(e,t,u,h!==i&&Math.ceil(h)).then((t=>{g(e)}))}},w=e=>{let t=1*(a(e)?e.dataset.y:e.dataset.x);T(e,t>=e.children.length-1?0:t+1)},_=e=>{let t=1*(a(e)?e.dataset.y:e.dataset.x);T(e,0===t?e.children.length-1:t-1)},T=(e,o)=>{if(a(e))v(e,0,(e.offsetHeight-h(e))*o-e.scrollTop,o);else{let l=t(e)?Math.abs(s(e))-(e.offsetWidth-d(e))*o:(e.offsetWidth-d(e))*o-s(e);v(e,l,0,o)}},b=e=>{let s=e.target;if(s.classList.contains("n-carousel__content")&&["ArrowLeft","ArrowRight","Home","End"].includes(e.key))switch(e.preventDefault(),e.key){case"ArrowLeft":t(s)?w(s):_(s);break;case"ArrowRight":t(s)?_(s):w(s);break;case"ArrowUp":_(s);break;case"ArrowDown":w(s);break;case"Home":T(s,0);break;case"End":T(s,s.children.length-1)}},x=e=>(document.getElementById(e.closest('[class*="n-carousel"]').dataset.for)||e.closest(".n-carousel")).querySelector(".n-carousel__content"),S=e=>_(x(e.target.closest('[class*="n-carousel"]'))),H=e=>w(x(e.target.closest('[class*="n-carousel"]'))),L=e=>{let t=e.target.closest("button");t&&T(x(t),[...t.parentNode.children].indexOf(t))},M=new ResizeObserver((e=>{e.forEach((e=>{console.log("resized: ",e.target);let t=e.target,s=t.closest(".n-carousel__content");t.parentNode.dataset.active&&!s.parentNode.dataset.sliding&&(s.style.height=t.scrollHeight+"px")}))})),N=new ResizeObserver((e=>{e.forEach((e=>{let t=e.target;if(t.classList.contains("n-carousel--auto-height")&&t.parentNode.dataset.sliding)return;let s=t.querySelector(":scope > .n-carousel__content");s.style.width="";let o=parseInt(getComputedStyle(s).paddingLeft),l=parseInt(getComputedStyle(s).paddingTop);s.style.padding=a(t)?l+"px 0":`0 ${o}px`,a(t)||(s.style.width=parseInt(getComputedStyle(s).width)+"px")}))})),q=new ResizeObserver((e=>{e.forEach((e=>{let t=e.target,s=t.querySelector(":scope > .n-carousel__index");s&&!t.dataset.sliding&&(t.style.removeProperty("--height-minus-index"),s.style.position="absolute",t.style.setProperty("--height-minus-index",t.scrollHeight+"px"),s.style.position="")}))}));document.querySelectorAll(".n-carousel:not([data-ready])").forEach((e=>{let t=u(e,".n-carousel__previous"),s=u(e,".n-carousel__next"),o=u(e,".n-carousel__index");t&&(t.onclick=S),s&&(s.onclick=H),o&&(o.onclick=L),e.querySelector(".n-carousel__content").onkeydown=b;let l=e.querySelector(":scope > .n-carousel__content");if(l.tabIndex=0,e.classList.contains("n-carousel--vertical")&&e.classList.contains("n-carousel--auto-height")&&(l.style.height=getComputedStyle(l).height,e.dataset.ready=!0,l.scrollTop=0),window.requestAnimationFrame((()=>{N.observe(e),e.dataset.ready=!0,g(l),e.classList.contains("n-carousel--vertical")&&e.classList.contains("n-carousel--auto-height")&&l.querySelectorAll(":scope > * > *").forEach((e=>M.observe(e)))})),e.classList.contains("n-carousel--auto-slide")){let t=(1e3*parseFloat(e.dataset.interval)||4e3)+(1e3*parseFloat(e.dataset.duration)||1e3),s=()=>{(function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(l)&&w(l),l.nCarouselTimeout=setTimeout(s,t)};l.nCarouselTimeout=setTimeout(s,1e3*parseFloat(e.dataset.interval)||4e3),l.addEventListener("pointerenter",(e=>clearTimeout(e.target.nCarouselTimeout)))}function r(e){var t=!1;if(e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY&&(t=!0):0===e.deltaMode&&(t=!0),console.log(e),console.log(t?"Trackpad detected":"Mousewheel detected"),!t){let t=e.target.closest(".n-carousel__content"),s=(e=>{for(e=e.parentNode;e;){if(e.scrollHeight>e.offsetHeight)return e;e=e.parentNode}return!1})(e.target);e.deltaY<0?s&&!s.matches(".n-carousel__content")&&0!==s.scrollTop||(e.preventDefault(),_(t)):s&&!s.matches(".n-carousel__content")&&s.scrollTop+s.offsetHeight!==s.scrollHeight||(e.preventDefault(),w(t))}}l.addEventListener("focusin",(e=>{let t=e.target.closest(".n-carousel__content > *");if(t){let e=[...t.parentNode.children].indexOf(t),s=t.closest(".n-carousel__content");parseInt(a(s)?s.dataset.y:s.dataset.x)!==e&&T(s,e)}})),l.addEventListener("mousewheel",r,!1),l.addEventListener("DOMMouseScroll",r,!1)}))}();