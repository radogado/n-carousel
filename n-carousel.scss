.n-carousel--content {
	
	display: flex;
	padding: var(--peek, 0);
	will-change: scroll;
	box-sizing: content-box;
	transition: height 1s ease-in-out;
// 	transition: none;
	
	@media (prefers-reduced-motion: reduce) {
	
		transition: none;
	
	}
	
	&:not([data-sliding]) {

		scroll-snap-type: both mandatory;
		
		> * {
			
			scroll-snap-align: center;
			
		}
	
	}

	&:not(.n-carousel__vertical) {
		
		overflow-x: auto;

		> :last-child { // Peeking support
			
			padding-inline-end: var(--peek, 0);
	
		}
	
	}
	
	&.n-carousel__vertical {
		
		overflow-y: auto;
		flex-direction: column;
		
		> * {
			
			height: var(--height, inherit);
			overflow: hidden;

		}
	
	}
	
	scrollbar-width: none; /* Firefox */

	&::-webkit-scrollbar {
	
		display: none;
	
	}
 
	> * {

		flex: 1 0 auto;
		width: 100%;
// 		transition: height .2s ease-in-out;
  	
	}

	&[data-sliding] {

		pointer-events: none;

	}
	
}

// Chrome/FF can't scrollTo while scroll snapping is active. Safari can, but it can't toggle snapping programmatically without resetting scroll offset.

_::-webkit-full-page-media, _:future, :root .n-carousel--content[data-sliding] {

	scroll-snap-type: both mandatory;
	
}

_::-webkit-full-page-media, _:future, :root .n-carousel--content[data-sliding] > * {

	scroll-snap-align: center;

}

// Because macOS-only Safari can't swipe backwards when pointer events re-enabled.

@supports not (-webkit-touch-callout: none) {

	_::-webkit-full-page-media, _:future, :root .n-carousel--content[data-sliding] {
	
		pointer-events: all;
	
	}

}

.n-carousel--index button, button.n-carousel--previous, button.n-carousel--next {

	-webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;		
	all: revert;
	border: none;
	background: #eee;
	
	&[disabled] {
		
		opacity: .5;

	}

}

.n-carousel--content.n-carousel__auto {
	
	overflow: hidden;
	overflow-x: auto;


}

.n-carousel--content.n-carousel__auto.n-carousel__vertical {
	
	overflow: hidden;
	overflow-y: auto;


}

.n-carousel[data-ready] > .n-carousel__auto:not(.n-carousel__vertical) > :not([data-active]), .n-carousel:not([data-ready]) > .n-carousel__auto > :not(:first-child) {
	
	height: 0;
	
}
